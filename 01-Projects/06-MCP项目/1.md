# Cursor+MCP 配置指南: 手把手教你配置任意MCP服务

**来源:** [Bilibili 视频 - 三少科技](https://www.bilibili.com/video/BV1vwXPYkEGx/)
**作者:** 三少科技
**发布日期:** 2025-03-20 07:51:23

---

## 引言与 MCP 价值

*   **目标:** 通过实战演示，教授如何在 Cursor 中配置和使用 MCP (Multi-Channel Perception) 服务器。
*   **MCP 现状:** 预计 MCP 服务器将迎来爆发式增长，掌握 MCP 对 Cursor 用户至关重要。
*   **核心痛点解决:**
    *   Cursor 存在文件写入/创建失败的 Bug (抽风)。
    *   配合修改文件的 MCP 服务器 (如 `filesystem`, `claude code`) 可以改善此问题。
    *   学会 MCP 对提升编程效率大有帮助。

## MCP 基础概念

*   **理解 MCP:** 不要想得太复杂，可以将其视为一种需要特殊配置方式的"软件"。
    *   安装方式：通常通过编辑 Cursor 的 MCP 配置文件 (`.json`) 完成。
*   **MCP 多样性:**
    *   文件操作 (`filesystem`, `claude code`)
    *   浏览器控制 (`playwright`)
    *   数据库交互
    *   网页搜索
    *   等等...
*   **未来趋势:** MCP 将在 AI 与本地环境交互中扮演越来越重要的角色。
*   **学习方法 (授人以渔):** 通过阅读 Cursor 和具体 MCP 服务器的文档来配置所需服务。

## 配置第一个 MCP：Filesystem

1.  **打开 Cursor 设置:** 找到 MCP 配置部分。
2.  **添加新服务:** 点击"添加一个新的全局 MCP 服务"，进入配置文件编辑。
3.  **找到 Filesystem MCP 文档:** (视频中未提供明确链接，通常在 GitHub 搜索 `cursor-mcp-filesystem-server`)
4.  **获取运行命令:**
    *   通常在文档中提供 `npx` 命令 (非 Docker 版本)。
    *   **前置条件:** 需要安装 [Node.js](https://nodejs.org/)。
5.  **初始配置 (可能失败):**
    *   将文档提供的 JSON 配置复制到 Cursor 的 MCP 配置文件中。
    *   **遇到的问题:** 服务状态显示为红色 (未运行)，即使在 CMD 中手动运行 `npx` 命令显示成功。直接让 Cursor 配置也可能失败。
6.  **Windows 解决方案:**
    *   修改配置文件中的 `command`:
        ```json
        "command": "cmd"
        ```
    *   修改 `args`，将原命令作为参数传递给 `cmd /c`:
        ```json
        "args": ["/c", "npx", "cursor-mcp-filesystem-server", ...] // "..." 代表原命令的其他参数
        ```
    *   保存配置，此时应会弹出命令行窗口。
    *   刷新 Cursor 中的 MCP 服务器列表，状态应变为绿色 (运行成功)。
    *   **解释:** 使用 `cmd /c` 来确保命令在 Windows 环境下正确执行。可以通过询问 Cursor 来解释配置中各字段的含义。
7.  **测试:**
    *   让 Cursor 使用 `filesystem` MCP 在当前目录创建一个 `.py` 文件 (如 `abc.py`) 并写入内容。
    *   观察文件是否成功创建和写入。

## 配置第二个 MCP：Claude Code

1.  **找到 MCP:** (视频中提到聚合网站，或直接搜索 `cursor-mcp-claude-code`)
2.  **访问 GitHub 主页:** 获取源代码和文档。
3.  **按照文档步骤操作:** (示例步骤)
    *   **克隆仓库:** `git clone <repository_url>`
    *   **进入目录:** `cd <repository_directory>`
    *   **安装依赖:** `npm install` 或 `yarn install`
    *   **构建项目:** `npm run build` 或 `yarn build` (如果需要)
    *   **启动服务器:** `npm start` 或 `yarn start`
4.  **配置 Cursor 客户端:**
    *   将服务器信息 (如地址、端口) 按照文档说明添加到 Cursor 的 MCP 配置文件中。
    *   可以将配置文件内容发给 Cursor，让其按格式生成配置。
5.  **注意事项:**
    *   **服务端 vs 客户端:** 有些 MCP 只需要配置客户端 (像 Filesystem，服务器由 npx 启动)，有些则需要单独运行服务端，再配置客户端 (像 Claude Code 示例)。
    *   **插件需求:** 部分 MCP 可能还需要安装额外的浏览器插件或其他依赖。
6.  **测试:**
    *   让 Cursor 使用 `claudecode` MCP 在当前目录创建一个 `.py` 文件。
    *   观察文件是否成功创建。

## 通用 MCP 配置建议

*   **核心:** **仔细阅读目标 MCP 的官方文档**。
*   **理解差异:** 每个 MCP 的配置和运行方式可能不同 (仅客户端、客户端+服务端、需要插件等)。
*   **利用 Cursor:** 将文档链接或内容发给 Cursor，让其解释运行步骤和生成配置文件。

## 总结与资源

*   本教程通过实战演示了 `filesystem` 和 `claude code` 两个 MCP 的配置过程。
*   掌握 MCP 配置方法可以解锁 Cursor 的更多能力，解决实际痛点。
*   配置文件示例可参考视频作者的 QQ 群或知识星球。