/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => QuickLinkPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  autocompleteTriggerPhrase: "@",
  isAutosuggestEnabled: true,
  excludeFolders: [],
  enableAdvancedUri: false,
  triggerFilterRules: [],
  mainPaths: [],
  advancedUriField: "uid"
};
async function generateMarkdownLink(app, file, alias, plugin) {
  let filePath = file.path.replace(/\.md$/, "");
  const fileName = file.basename;
  if (plugin.settings.enableAdvancedUri && app.plugins.plugins["obsidian-advanced-uri"]) {
    const vaultName = app.vault.getName();
    const fieldName = plugin.settings.advancedUriField;
    let uid = null;
    try {
      const content = await app.vault.read(file);
      const fmMatch = content.match(/^---\n([\s\S]*?)\n---/);
      if (fmMatch) {
        const uidMatch = fmMatch[1].match(new RegExp(`${fieldName}:\\s*([^\\s\\n]+)`));
        if (uidMatch) uid = uidMatch[1];
      }
      if (!uid) {
        const inline = content.match(new RegExp(`\\n${fieldName}:\\s*([^\\s\\n]+)`));
        if (inline) uid = inline[1];
      }
    } catch (e) {
    }
    let advancedUri;
    if (uid) {
      const param = encodeURIComponent(fieldName);
      advancedUri = `obsidian://advanced-uri?vault=${encodeURIComponent(vaultName)}&${param}=${encodeURIComponent(uid)}`;
    } else {
      advancedUri = `obsidian://advanced-uri?vault=${encodeURIComponent(vaultName)}&filepath=${encodeURIComponent(filePath)}`;
    }
    return alias ? `[${alias}](${advancedUri})` : `[${fileName}](${advancedUri})`;
  }
  const useMdLinks = app.vault.getConfig("useMarkdownLinks");
  if (useMdLinks) {
    const target = alias ? `[${alias}](${fileName})` : `[${fileName}](${fileName})`;
    return target;
  }
  return alias ? `[[${fileName}|${alias}]]` : `[[${fileName}]]`;
}
function escapeRegExp(str) {
  return str.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
}
var SettingsTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Quick File Linker Settings / \u5FEB\u901F\u6587\u4EF6\u94FE\u63A5\u8BBE\u7F6E" });
    new import_obsidian.Setting(containerEl).setName("Enable Suggestions / \u542F\u7528\u5EFA\u8BAE").setDesc(`Trigger on '${this.plugin.settings.autocompleteTriggerPhrase}' / \u4F7F\u7528 '${this.plugin.settings.autocompleteTriggerPhrase}' \u89E6\u53D1\u6587\u4EF6\u5EFA\u8BAE`).addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.isAutosuggestEnabled).onChange(async (value) => {
        this.plugin.settings.isAutosuggestEnabled = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Trigger Character / \u89E6\u53D1\u5B57\u7B26").setDesc("Character that will trigger file suggestions / \u89E6\u53D1\u6587\u4EF6\u5EFA\u8BAE\u7684\u5B57\u7B26").addText(
      (text) => text.setValue(this.plugin.settings.autocompleteTriggerPhrase).onChange(async (value) => {
        this.plugin.settings.autocompleteTriggerPhrase = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("\u4E3B\u4F53\u6587\u4EF6\u5939 / Main Folders").setDesc(
      "\u8BBE\u7F6E\u8BE5\u6587\u4EF6\u5939\u7528\u4E8E\u81EA\u52A8\u626B\u63CF\u6587\u6863\u8FDB\u884C\u81EA\u52A8\u8FDE\u63A5\u521B\u5EFA\u3002\n\u4F7F\u7528\u5168\u5C40\u89E6\u53D1\u7B26\u65F6\uFF0C\u4EC5\u5728\u8FD9\u4E9B\u6587\u4EF6\u5939\u4E2D\u641C\u7D22\uFF08\u7559\u7A7A\u8868\u793A\u5168\u5C40\uFF09"
    ).addTextArea(
      (text) => {
        const input = text.inputEl;
        const wrapper = input.parentElement;
        wrapper.addClass("quicklink-wrapper");
        const suggestEl = wrapper.createDiv();
        suggestEl.addClass("quicklink-inline-suggestions");
        const updateSuggestions = async () => {
          const lines = input.value.split("\n").map((s) => s.trim()).filter(Boolean);
          this.plugin.settings.mainPaths = lines;
          await this.plugin.saveSettings();
          const cursorPos = input.selectionStart || 0;
          const before = input.value.substring(0, cursorPos);
          const parts = before.split("\n");
          const current = parts[parts.length - 1];
          let suggestions = [];
          const files = this.app.vault.getMarkdownFiles();
          if (!current.includes("/")) {
            const set = /* @__PURE__ */ new Set();
            files.forEach((f) => {
              const p = f.path.split("/")[0];
              if (f.path.includes("/")) set.add(p);
            });
            suggestions = Array.from(set);
          } else {
            const base = current.endsWith("/") ? current : current + "/";
            const set = /* @__PURE__ */ new Set();
            files.forEach((f) => {
              if (f.path.startsWith(base)) {
                const rem = f.path.substring(base.length);
                const slashIndex = rem.indexOf("/");
                if (slashIndex !== -1) {
                  const next = rem.substring(0, slashIndex);
                  set.add(base + next);
                }
              }
            });
            suggestions = Array.from(set);
          }
          const q = current.toLowerCase();
          suggestions = suggestions.filter((s) => s.toLowerCase().includes(q)).sort((a, b) => a.localeCompare(b)).slice(0, 50);
          while (suggestEl.firstChild) {
            suggestEl.removeChild(suggestEl.firstChild);
          }
          suggestions.forEach((sug) => {
            const item = suggestEl.createDiv({ cls: "quicklink-suggestion-item", text: sug });
            item.addEventListener("mousedown", async (e) => {
              e.preventDefault();
              const allLines = input.value.split("\n");
              allLines[parts.length - 1] = sug;
              input.value = allLines.join("\n");
              this.plugin.settings.mainPaths = allLines.filter((s) => s.trim());
              await this.plugin.saveSettings();
              while (suggestEl.firstChild) {
                suggestEl.removeChild(suggestEl.firstChild);
              }
            });
          });
        };
        input.addEventListener("input", updateSuggestions);
        input.addEventListener("focus", updateSuggestions);
        input.addEventListener("blur", () => {
          while (suggestEl.firstChild) {
            suggestEl.removeChild(suggestEl.firstChild);
          }
        });
      }
    );
    new import_obsidian.Setting(containerEl).setName("Exclude Folders / \u6392\u9664\u6587\u4EF6\u5939").setDesc("Folders to exclude from search (one per line) / \u6392\u9664\u641C\u7D22\u7684\u6587\u4EF6\u5939\uFF08\u6BCF\u884C\u4E00\u4E2A\uFF09").addTextArea((text) => {
      const input = text.inputEl;
      const wrapper = input.parentElement;
      wrapper.addClass("quicklink-wrapper");
      const suggestEl = wrapper.createDiv();
      suggestEl.addClass("quicklink-inline-suggestions");
      const updateSuggestions = async () => {
        const lines = input.value.split("\n").map((s) => s.trim()).filter(Boolean);
        this.plugin.settings.excludeFolders = lines;
        await this.plugin.saveSettings();
        const cursorPos = input.selectionStart || 0;
        const before = input.value.substring(0, cursorPos);
        const parts = before.split("\n");
        const current = parts[parts.length - 1];
        let suggestions = [];
        const files = this.app.vault.getMarkdownFiles();
        if (!current.includes("/")) {
          const set = /* @__PURE__ */ new Set();
          files.forEach((f) => {
            const p = f.path.split("/")[0];
            if (f.path.includes("/")) set.add(p);
          });
          suggestions = Array.from(set);
        } else {
          const base = current.endsWith("/") ? current : current + "/";
          const set = /* @__PURE__ */ new Set();
          files.forEach((f) => {
            if (f.path.startsWith(base)) {
              const rem = f.path.substring(base.length);
              const slash = rem.indexOf("/");
              if (slash !== -1) {
                const next = rem.substring(0, slash);
                set.add(base + next);
              }
            }
          });
          suggestions = Array.from(set);
        }
        const q = current.toLowerCase();
        suggestions = suggestions.filter((s) => s.toLowerCase().includes(q)).sort((a, b) => a.localeCompare(b)).slice(0, 50);
        while (suggestEl.firstChild) {
          suggestEl.removeChild(suggestEl.firstChild);
        }
        suggestions.forEach((sug) => {
          const item = suggestEl.createDiv({ cls: "quicklink-suggestion-item", text: sug });
          item.addEventListener("mousedown", async (e) => {
            e.preventDefault();
            const all = input.value.split("\n");
            all[parts.length - 1] = sug;
            input.value = all.join("\n");
            this.plugin.settings.excludeFolders = all.filter((s) => s.trim());
            await this.plugin.saveSettings();
            while (suggestEl.firstChild) {
              suggestEl.removeChild(suggestEl.firstChild);
            }
          });
          suggestEl.addEventListener("mouseleave", () => {
            while (suggestEl.firstChild) {
              suggestEl.removeChild(suggestEl.firstChild);
            }
          });
        });
      };
      input.addEventListener("input", updateSuggestions);
      input.addEventListener("focus", updateSuggestions);
      input.addEventListener("blur", () => {
        while (suggestEl.firstChild) {
          suggestEl.removeChild(suggestEl.firstChild);
        }
      });
    });
    new import_obsidian.Setting(containerEl).setName("Enable Advanced URI Integration / \u542F\u7528\u9AD8\u7EA7 URI \u96C6\u6210").setDesc("If installed, new links will use Advanced URI format / \u5982\u679C\u5B89\u88C5\u4E86\u6B64\u63D2\u4EF6\uFF0C\u751F\u6210\u9AD8\u7EA7 URI \u683C\u5F0F\u7684\u94FE\u63A5").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.enableAdvancedUri).onChange(async (value) => {
        this.plugin.settings.enableAdvancedUri = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("UID Field Name / UID \u5B57\u6BB5\u540D").setDesc("Frontmatter field name for UID used in Advanced URI / \u7528\u4E8E Advanced URI \u7684\u524D\u7F6E\u5B57\u6BB5\u540D").addText(
      (text) => text.setPlaceholder("uid").setValue(this.plugin.settings.advancedUriField).onChange(async (value) => {
        this.plugin.settings.advancedUriField = value.trim();
        await this.plugin.saveSettings();
      })
    );
    containerEl.createEl("h3", { text: "Custom Rules / \u81EA\u5B9A\u4E49\u89C4\u5219" });
    this.plugin.settings.triggerFilterRules.forEach((rule, index) => {
      const details = containerEl.createEl("details");
      details.addClass("quicklink-rule-panel");
      const summary = details.createEl("summary", {
        text: `Rule ${index + 1}: [${rule.prefix || "<\u672A\u8BBE\u7F6E>"}] - ${rule.name || "<\u672A\u547D\u540D>"}`
      });
      summary.addClass("quicklink-rule-summary");
      const ruleContainer = details.createDiv();
      new import_obsidian.Setting(ruleContainer).setName("Prefix / \u524D\u7F00").setDesc("\u89E6\u53D1\u89C4\u5219\u524D\u7F00\u5B57\u7B26").addText(
        (text) => text.setValue(rule.prefix).onChange((value) => {
          rule.prefix = value;
        })
      ).addExtraButton(
        (btn) => btn.setIcon("trash").setTooltip("Delete / \u5220\u9664").onClick(async () => {
          this.plugin.settings.triggerFilterRules.splice(index, 1);
          await this.plugin.saveSettings();
          this.display();
        })
      );
      new import_obsidian.Setting(ruleContainer).setName("Name / \u540D\u79F0").setDesc("\u89C4\u5219\u663E\u793A\u540D\u79F0").addText(
        (text) => text.setValue(rule.name).onChange((value) => {
          rule.name = value;
        })
      );
      new import_obsidian.Setting(ruleContainer).setName("Include Folders / \u5305\u542B\u6587\u4EF6\u5939").setDesc("\u4EC5\u5728\u8FD9\u4E9B\u6587\u4EF6\u5939\u4E2D\u641C\u7D22\uFF08\u6BCF\u884C\u4E00\u4E2A\uFF09").addTextArea((text) => {
        const input = text.inputEl;
        const wrapper = input.parentElement;
        wrapper.addClass("quicklink-wrapper");
        const suggestEl = wrapper.createDiv();
        suggestEl.addClass("quicklink-inline-suggestions");
        const updateSuggestions = async () => {
          const lines = input.value.split("\n").map((s) => s.trim()).filter(Boolean);
          rule.includeFolders = lines;
          await this.plugin.saveSettings();
          const cursorPos = input.selectionStart || 0;
          const before = input.value.substring(0, cursorPos);
          const parts = before.split("\n");
          const current = parts[parts.length - 1];
          let suggestions = [];
          const files = this.app.vault.getMarkdownFiles();
          if (!current.includes("/")) {
            const set = /* @__PURE__ */ new Set();
            files.forEach((f) => {
              const p = f.path.split("/")[0];
              if (f.path.includes("/")) set.add(p);
            });
            suggestions = Array.from(set);
          } else {
            const base = current.endsWith("/") ? current : current + "/";
            const set = /* @__PURE__ */ new Set();
            files.forEach((f) => {
              if (f.path.startsWith(base)) {
                const rem = f.path.substring(base.length);
                const slash = rem.indexOf("/");
                if (slash !== -1) {
                  const next = rem.substring(0, slash);
                  set.add(base + next);
                }
              }
            });
            suggestions = Array.from(set);
          }
          const q = current.toLowerCase();
          suggestions = suggestions.filter((s) => s.toLowerCase().includes(q)).sort((a, b) => a.localeCompare(b)).slice(0, 50);
          while (suggestEl.firstChild) {
            suggestEl.removeChild(suggestEl.firstChild);
          }
          suggestions.forEach((sug) => {
            const item = suggestEl.createDiv({ cls: "quicklink-suggestion-item", text: sug });
            item.addEventListener("mousedown", async (e) => {
              e.preventDefault();
              const all = input.value.split("\n");
              all[parts.length - 1] = sug;
              input.value = all.join("\n");
              rule.includeFolders = all.filter((s) => s.trim());
              await this.plugin.saveSettings();
              while (suggestEl.firstChild) {
                suggestEl.removeChild(suggestEl.firstChild);
              }
            });
            suggestEl.addEventListener("mouseleave", () => {
              while (suggestEl.firstChild) {
                suggestEl.removeChild(suggestEl.firstChild);
              }
            });
          });
        };
        input.addEventListener("input", updateSuggestions);
        input.addEventListener("focus", updateSuggestions);
        input.addEventListener("blur", () => {
          while (suggestEl.firstChild) {
            suggestEl.removeChild(suggestEl.firstChild);
          }
        });
      });
      new import_obsidian.Setting(ruleContainer).setName("Name Filter Regex / \u6587\u4EF6\u540D\u6B63\u5219").setDesc("\u4EC5\u5339\u914D\u7B26\u5408\u6B64\u6B63\u5219\u7684\u6587\u4EF6\u540D").addText(
        (text) => text.setValue(rule.nameFilterRegex).onChange((value) => {
          rule.nameFilterRegex = value;
        })
      );
      new import_obsidian.Setting(ruleContainer).setName("Include Tags / \u5305\u542B\u6807\u7B7E").setDesc("\u4EC5\u5728\u5305\u542B\u8FD9\u4E9B\u6807\u7B7E\u7684\u6587\u4EF6\u4E2D\u641C\u7D22\uFF08\u6BCF\u884C\u4E00\u4E2A\uFF09").addTextArea((text) => {
        const input = text.inputEl;
        const wrapper = input.parentElement;
        wrapper.addClass("quicklink-wrapper");
        const suggestEl = wrapper.createDiv();
        suggestEl.addClass("quicklink-inline-suggestions");
        const allTags = Array.from(
          new Set(
            this.app.vault.getMarkdownFiles().flatMap((f) => {
              var _a;
              const cache = this.app.metadataCache.getFileCache(f);
              return ((_a = cache == null ? void 0 : cache.tags) == null ? void 0 : _a.map((t) => t.tag.startsWith("#") ? t.tag.substring(1) : t.tag)) || [];
            })
          )
        );
        const updateSuggestions = async () => {
          const lines = input.value.split("\n").map((s) => s.trim()).filter(Boolean);
          rule.includeTags = lines;
          await this.plugin.saveSettings();
          const cursorPos = input.selectionStart || 0;
          const before = input.value.substring(0, cursorPos);
          const parts = before.split("\n");
          const current = parts[parts.length - 1].toLowerCase();
          const suggestions = allTags.filter((tag) => tag.toLowerCase().includes(current)).sort((a, b) => a.localeCompare(b)).slice(0, 50);
          while (suggestEl.firstChild) {
            suggestEl.removeChild(suggestEl.firstChild);
          }
          suggestions.forEach((tag) => {
            const item = suggestEl.createDiv({ cls: "quicklink-suggestion-item", text: tag });
            item.addEventListener("mousedown", async (e) => {
              e.preventDefault();
              const allLines = input.value.split("\n");
              allLines[parts.length - 1] = tag;
              input.value = allLines.join("\n");
              rule.includeTags = allLines.filter((s) => s.trim());
              await this.plugin.saveSettings();
              while (suggestEl.firstChild) {
                suggestEl.removeChild(suggestEl.firstChild);
              }
            });
          });
        };
        input.addEventListener("input", updateSuggestions);
        input.addEventListener("focus", updateSuggestions);
        input.addEventListener("blur", () => {
          while (suggestEl.firstChild) {
            suggestEl.removeChild(suggestEl.firstChild);
          }
        });
      });
      new import_obsidian.Setting(ruleContainer).addButton(
        (btn) => btn.setButtonText("Save Rule / \u4FDD\u5B58\u89C4\u5219").setCta().onClick(async () => {
          await this.plugin.saveSettings();
          new import_obsidian.Notice(`Saved rule ${rule.prefix || "(no prefix)"}`);
        })
      );
    });
    new import_obsidian.Setting(containerEl).addButton(
      (button) => button.setButtonText("Add Rule / \u6DFB\u52A0\u89C4\u5219").onClick(async () => {
        this.plugin.settings.triggerFilterRules.push({
          prefix: "",
          name: "",
          includeFolders: [],
          nameFilterRegex: "",
          includeTags: []
        });
        await this.plugin.saveSettings();
        this.display();
      })
    );
  }
};
var FileSuggest = class extends import_obsidian.EditorSuggest {
  constructor(app, plugin) {
    super(app);
    this.plugin = plugin;
    console.log("QuickLink: FileSuggest initialized");
  }
  getSuggestions(context) {
    var _a;
    const rawQuery = context.query;
    const fullQuery = rawQuery.trimStart();
    const globalTrigger = this.plugin.settings.autocompleteTriggerPhrase;
    console.log(`QuickLink getSuggestions: fullQuery='${fullQuery}', rules=${JSON.stringify(this.plugin.settings.triggerFilterRules)}`);
    let files = this.app.vault.getMarkdownFiles().filter((f) => !this.plugin.settings.excludeFolders.some((folder) => f.path.startsWith(folder + "/")));
    const rule = this.plugin.settings.triggerFilterRules.find((r) => r.prefix.length > 0 && fullQuery.startsWith(r.prefix));
    console.log(`QuickLink matched rule: ${rule ? rule.prefix : "none"}`);
    const actualQuery = rule ? fullQuery.slice(rule.prefix.length).trim() : fullQuery.slice(globalTrigger.length).trim();
    if (rule) {
      if (rule.includeFolders.length) {
        files = files.filter((f) => rule.includeFolders.some((folder) => f.path.startsWith(folder + "/")));
      }
      if (rule.nameFilterRegex) {
        const regex = new RegExp(rule.nameFilterRegex);
        files = files.filter((f) => regex.test(f.basename));
      }
      if (rule.includeTags && rule.includeTags.length) {
        files = files.filter((f) => {
          const cache = this.app.metadataCache.getFileCache(f);
          if (!(cache == null ? void 0 : cache.tags)) return false;
          return cache.tags.some((t) => {
            const tagName = t.tag.startsWith("#") ? t.tag.substring(1) : t.tag;
            return rule.includeTags.includes(tagName);
          });
        });
      }
    }
    if (!rule && ((_a = this.plugin.settings.mainPaths) == null ? void 0 : _a.length)) {
      files = files.filter(
        (f) => this.plugin.settings.mainPaths.some((p) => f.path.startsWith(p + "/"))
      );
    }
    if (actualQuery) {
      const q = actualQuery.toLowerCase();
      files = files.filter((f) => f.basename.toLowerCase().includes(q) || f.path.toLowerCase().includes(q));
    }
    return files.slice(0, 50).map((f) => ({ label: f.basename, file: f, path: f.path }));
  }
  renderSuggestion(sug, el) {
    el.setText(sug.label);
    const parts = sug.path.split("/");
    parts.pop();
    el.createSpan({ cls: "suggestion-note", text: ` (${parts.join("/")})` });
  }
  async selectSuggestion(sug, evt) {
    if (!this.context) return;
    const { editor, start, end } = this.context;
    const alias = evt.shiftKey ? this.context.query : void 0;
    const link = await generateMarkdownLink(this.app, sug.file, alias, this.plugin);
    editor.replaceRange(link, start, end);
  }
  onTrigger(cursor, editor, file) {
    if (!this.plugin.settings.isAutosuggestEnabled) return null;
    const position = editor.getCursor();
    const line = editor.getLine(position.line);
    let idx = -1;
    let usedTrigger = "";
    for (const rule of this.plugin.settings.triggerFilterRules) {
      if (rule.prefix.length > 0) {
        const i = line.lastIndexOf(rule.prefix, position.ch - rule.prefix.length);
        if (i !== -1) {
          idx = i;
          usedTrigger = rule.prefix;
          break;
        }
      }
    }
    if (idx === -1) {
      const trigger = this.plugin.settings.autocompleteTriggerPhrase;
      const i = line.lastIndexOf(trigger, position.ch - trigger.length);
      if (i !== -1) {
        idx = i;
        usedTrigger = trigger;
      }
    }
    if (idx === -1) return null;
    const start = { line: position.line, ch: idx };
    const end = position;
    const query = line.substring(idx, position.ch);
    console.log(`QuickLink onTrigger: detected query='${query}', usedTrigger='${usedTrigger}'`);
    return { editor, file, start, end, query };
  }
};
var QuickLinkPlugin = class extends import_obsidian.Plugin {
  async onload() {
    await this.loadSettings();
    this.addSettingTab(new SettingsTab(this.app, this));
    this.suggest = new FileSuggest(this.app, this);
    this.registerEditorSuggest(this.suggest);
    this.addRibbonIcon("link-2", "Auto Link Scan / \u81EA\u52A8\u626B\u63CF", () => {
      this.runAutoScan();
    });
  }
  onunload() {
  }
  /** 自动扫描当前文档，链接主体文件夹下匹配的文件名 */
  async runAutoScan() {
    var _a;
    const view = this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
    if (!view || !view.file) {
      new import_obsidian.Notice("\u8BF7\u5728 Markdown \u89C6\u56FE\u4E2D\u4F7F\u7528\u6B64\u529F\u80FD");
      return;
    }
    const file = view.file;
    const content = await this.app.vault.read(file);
    let targets = this.app.vault.getMarkdownFiles();
    if ((_a = this.settings.mainPaths) == null ? void 0 : _a.length) {
      targets = targets.filter(
        (f) => this.settings.mainPaths.some((p) => f.path.startsWith(p + "/"))
      );
    }
    console.log("QuickLink runAutoScan: target files:", targets.map((f) => f.path));
    let newContent = content;
    let totalCount = 0;
    for (const tf of targets) {
      console.log(`QuickLink runAutoScan: scanning file basename='${tf.basename}' path='${tf.path}'`);
      const name = tf.basename;
      const pattern = `(^|\\W)${escapeRegExp(name)}(?=\\W|$)`;
      const regex = new RegExp(pattern, "g");
      const matches = newContent.match(regex);
      if (matches && matches.length > 0) {
        console.log(`QuickLink runAutoScan: found ${matches.length} matches for '${name}'`);
        totalCount += matches.length;
        const linkText = await generateMarkdownLink(this.app, tf, void 0, this);
        console.log(`QuickLink runAutoScan: linkText='${linkText}'`);
        newContent = newContent.replace(regex, (_match, p1) => `${p1}${linkText}`);
      }
    }
    console.log(`QuickLink runAutoScan: total replacements to apply: ${totalCount}`);
    await this.app.vault.modify(file, newContent);
    new import_obsidian.Notice(`\u81EA\u52A8\u626B\u63CF\u5B8C\u6210\uFF0C\u5DF2\u94FE\u63A5 ${totalCount} \u5904`);
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vc3JjL21haW4udHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImltcG9ydCB7IEFwcCwgUGx1Z2luLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nLCBOb3RpY2UsIEVkaXRvclN1Z2dlc3QsIFRGaWxlLCBFZGl0b3JTdWdnZXN0Q29udGV4dCwgRWRpdG9yUG9zaXRpb24sIEVkaXRvciwgU3VnZ2VzdE1vZGFsLCBUZXh0QXJlYUNvbXBvbmVudCwgTWFya2Rvd25WaWV3IH0gZnJvbSAnb2JzaWRpYW4nO1xuXG4vKiogXHU1MzU1XHU0RTJBXHU4OUU2XHU1M0QxXHU4OUM0XHU1MjE5XHU1QjlBXHU0RTQ5ICovXG5pbnRlcmZhY2UgVHJpZ2dlckZpbHRlclJ1bGUge1xuICBwcmVmaXg6IHN0cmluZzsgICAgICAgICAgICAgICAgLy8gXHU1MjREXHU3RjAwXHU1QjU3XHU3QjI2XHVGRjBDXHU1OTgyICduJ1xuICBuYW1lOiBzdHJpbmc7ICAgICAgICAgICAgICAgICAgLy8gXHU4OUM0XHU1MjE5XHU1NDBEXHU3OUYwXHVGRjBDXHU3NTI4XHU0RThFIFVJIFx1NjYzRVx1NzkzQVxuICBpbmNsdWRlRm9sZGVyczogc3RyaW5nW107ICAgICAgLy8gXHU0RUM1XHU1NzI4XHU4RkQ5XHU0RTlCXHU2NTg3XHU0RUY2XHU1OTM5XHU0RTJEXHU2NDFDXHU3RDIyXG4gIG5hbWVGaWx0ZXJSZWdleDogc3RyaW5nOyAgICAgICAvLyBcdTVCRjlcdTY1ODdcdTRFRjZcdTU0MERcdTc2ODRcdTZCNjNcdTUyMTlcdThGQzdcdTZFRTRcbiAgaW5jbHVkZVRhZ3M6IHN0cmluZ1tdOyAgICAgICAgIC8vIFx1NEVDNVx1NTcyOFx1NTMwNVx1NTQyQlx1OEZEOVx1NEU5Qlx1NjgwN1x1N0I3RVx1NzY4NFx1NjU4N1x1NEVGNlx1NEUyRFx1NjQxQ1x1N0QyMlxufVxuXG4vLyBcdTY2RjRcdTY1QjBcdTYzRDJcdTRFRjZcdThCQkVcdTdGNkVcdTdDN0JcdTU3OEJcbmludGVyZmFjZSBRdWlja0xpbmtTZXR0aW5ncyB7XG4gIGF1dG9jb21wbGV0ZVRyaWdnZXJQaHJhc2U6IHN0cmluZztcbiAgaXNBdXRvc3VnZ2VzdEVuYWJsZWQ6IGJvb2xlYW47XG4gIGV4Y2x1ZGVGb2xkZXJzOiBzdHJpbmdbXTtcbiAgZW5hYmxlQWR2YW5jZWRVcmk6IGJvb2xlYW47XG4gIHRyaWdnZXJGaWx0ZXJSdWxlczogVHJpZ2dlckZpbHRlclJ1bGVbXTtcbiAgbWFpblBhdGhzOiBzdHJpbmdbXTsgLy8gXHU1MTY4XHU1QzQwXHU3QjI2XHU1M0Y3XHU3Njg0XHU5NjUwXHU1QjlBXHU2NTg3XHU0RUY2XHU1OTM5XHU1MjE3XHU4ODY4XG4gIGFkdmFuY2VkVXJpRmllbGQ6IHN0cmluZzsgLy8gRnJvbnRtYXR0ZXIgZmllbGQgbmFtZSBmb3IgVUlEXG59XG5cbi8vIFx1NjZGNFx1NjVCMFx1OUVEOFx1OEJBNFx1OEJCRVx1N0Y2RVxuY29uc3QgREVGQVVMVF9TRVRUSU5HUzogUXVpY2tMaW5rU2V0dGluZ3MgPSB7XG4gIGF1dG9jb21wbGV0ZVRyaWdnZXJQaHJhc2U6ICdAJyxcbiAgaXNBdXRvc3VnZ2VzdEVuYWJsZWQ6IHRydWUsXG4gIGV4Y2x1ZGVGb2xkZXJzOiBbXSxcbiAgZW5hYmxlQWR2YW5jZWRVcmk6IGZhbHNlLFxuICB0cmlnZ2VyRmlsdGVyUnVsZXM6IFtdLFxuICBtYWluUGF0aHM6IFtdLFxuICBhZHZhbmNlZFVyaUZpZWxkOiAndWlkJyxcbn07XG5cbi8qKiBGb2xkZXJTdWdnZXN0TW9kYWwgZm9yIGlubGluZSBmb2xkZXIgc3VnZ2VzdGlvbnMgKi9cbmNsYXNzIEZvbGRlclN1Z2dlc3RNb2RhbCBleHRlbmRzIFN1Z2dlc3RNb2RhbDxzdHJpbmc+IHtcbiAgb25DaG9vc2VTdWdnZXN0aW9uOiAoc3VnZ2VzdGlvbjogc3RyaW5nKSA9PiB2b2lkO1xuXG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBvbkNob29zZVN1Z2dlc3Rpb246IChzdWdnZXN0aW9uOiBzdHJpbmcpID0+IHZvaWQpIHtcbiAgICBzdXBlcihhcHApO1xuICAgIHRoaXMub25DaG9vc2VTdWdnZXN0aW9uID0gb25DaG9vc2VTdWdnZXN0aW9uO1xuICB9XG5cbiAgZ2V0U3VnZ2VzdGlvbnMocXVlcnk6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgICBjb25zdCBmb2xkZXJzID0gdGhpcy5hcHAudmF1bHQuZ2V0QWxsTG9hZGVkRmlsZXMoKVxuICAgICAgLmZpbHRlcihmID0+IGYgaW5zdGFuY2VvZiBURmlsZSA9PT0gZmFsc2UpIC8vIGZvbGRlcnMgb25seVxuICAgICAgLm1hcChmID0+IGYucGF0aClcbiAgICAgIC5maWx0ZXIoKHYsIGksIGEpID0+IGEuaW5kZXhPZih2KSA9PT0gaSk7IC8vIHVuaXF1ZVxuICAgIHJldHVybiBmb2xkZXJzLmZpbHRlcihmb2xkZXIgPT4gZm9sZGVyLnRvTG93ZXJDYXNlKCkuY29udGFpbnMocXVlcnkudG9Mb3dlckNhc2UoKSkpO1xuICB9XG5cbiAgcmVuZGVyU3VnZ2VzdGlvbihzdWdnZXN0aW9uOiBzdHJpbmcsIGVsOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICAgIGVsLnNldFRleHQoc3VnZ2VzdGlvbik7XG4gIH1cblxuICBvbkNob29zZVN1Z2dlc3Rpb25JdGVtKHN1Z2dlc3Rpb246IHN0cmluZywgZXZ0OiBNb3VzZUV2ZW50IHwgS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xuICAgIHRoaXMub25DaG9vc2VTdWdnZXN0aW9uKHN1Z2dlc3Rpb24pO1xuICB9XG59XG5cbi8qKiBcdTc1MUZcdTYyMTAgTWFya2Rvd24gXHU5NEZFXHU2M0E1ICovXG5hc3luYyBmdW5jdGlvbiBnZW5lcmF0ZU1hcmtkb3duTGluayhcbiAgYXBwOiBBcHAsXG4gIGZpbGU6IFRGaWxlLFxuICBhbGlhczogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICBwbHVnaW46IFF1aWNrTGlua1BsdWdpblxuKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgLy8gXHU2NTg3XHU0RUY2XHU4REVGXHU1Rjg0XHU0RTBFXHU1NDBEXHU3OUYwXHU1OTA0XHU3NDA2XG4gIGxldCBmaWxlUGF0aCA9IGZpbGUucGF0aC5yZXBsYWNlKC9cXC5tZCQvLCAnJyk7XG4gIGNvbnN0IGZpbGVOYW1lID0gZmlsZS5iYXNlbmFtZTtcblxuICAvLyBBZHZhbmNlZCBVUkkgXHU5MDNCXHU4RjkxXG4gIGlmIChwbHVnaW4uc2V0dGluZ3MuZW5hYmxlQWR2YW5jZWRVcmkgJiYgKGFwcCBhcyBhbnkpLnBsdWdpbnMucGx1Z2luc1snb2JzaWRpYW4tYWR2YW5jZWQtdXJpJ10pIHtcbiAgICBjb25zdCB2YXVsdE5hbWUgPSBhcHAudmF1bHQuZ2V0TmFtZSgpO1xuICAgIGNvbnN0IGZpZWxkTmFtZSA9IHBsdWdpbi5zZXR0aW5ncy5hZHZhbmNlZFVyaUZpZWxkO1xuICAgIGxldCB1aWQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgYXBwLnZhdWx0LnJlYWQoZmlsZSk7XG4gICAgICBjb25zdCBmbU1hdGNoID0gY29udGVudC5tYXRjaCgvXi0tLVxcbihbXFxzXFxTXSo/KVxcbi0tLS8pO1xuICAgICAgaWYgKGZtTWF0Y2gpIHtcbiAgICAgICAgY29uc3QgdWlkTWF0Y2ggPSBmbU1hdGNoWzFdLm1hdGNoKG5ldyBSZWdFeHAoYCR7ZmllbGROYW1lfTpcXFxccyooW15cXFxcc1xcXFxuXSspYCkpO1xuICAgICAgICBpZiAodWlkTWF0Y2gpIHVpZCA9IHVpZE1hdGNoWzFdO1xuICAgICAgfVxuICAgICAgaWYgKCF1aWQpIHtcbiAgICAgICAgY29uc3QgaW5saW5lID0gY29udGVudC5tYXRjaChuZXcgUmVnRXhwKGBcXFxcbiR7ZmllbGROYW1lfTpcXFxccyooW15cXFxcc1xcXFxuXSspYCkpO1xuICAgICAgICBpZiAoaW5saW5lKSB1aWQgPSBpbmxpbmVbMV07XG4gICAgICB9XG4gICAgfSBjYXRjaCB7fVxuICAgIGxldCBhZHZhbmNlZFVyaTogc3RyaW5nO1xuICAgIGlmICh1aWQpIHtcbiAgICAgIGNvbnN0IHBhcmFtID0gZW5jb2RlVVJJQ29tcG9uZW50KGZpZWxkTmFtZSk7XG4gICAgICBhZHZhbmNlZFVyaSA9IGBvYnNpZGlhbjovL2FkdmFuY2VkLXVyaT92YXVsdD0ke2VuY29kZVVSSUNvbXBvbmVudCh2YXVsdE5hbWUpfSYke3BhcmFtfT0ke2VuY29kZVVSSUNvbXBvbmVudCh1aWQpfWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFkdmFuY2VkVXJpID0gYG9ic2lkaWFuOi8vYWR2YW5jZWQtdXJpP3ZhdWx0PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHZhdWx0TmFtZSl9JmZpbGVwYXRoPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGZpbGVQYXRoKX1gO1xuICAgIH1cbiAgICByZXR1cm4gYWxpYXMgPyBgWyR7YWxpYXN9XSgke2FkdmFuY2VkVXJpfSlgIDogYFske2ZpbGVOYW1lfV0oJHthZHZhbmNlZFVyaX0pYDtcbiAgfVxuXG4gIC8vIFx1NjY2RVx1OTAxQVx1OTRGRVx1NjNBNVx1OTAzQlx1OEY5MVxuICBjb25zdCB1c2VNZExpbmtzID0gKGFwcC52YXVsdCBhcyBhbnkpLmdldENvbmZpZygndXNlTWFya2Rvd25MaW5rcycpO1xuICBpZiAodXNlTWRMaW5rcykge1xuICAgIGNvbnN0IHRhcmdldCA9IGFsaWFzID8gYFske2FsaWFzfV0oJHtmaWxlTmFtZX0pYCA6IGBbJHtmaWxlTmFtZX1dKCR7ZmlsZU5hbWV9KWA7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICByZXR1cm4gYWxpYXMgPyBgW1ske2ZpbGVOYW1lfXwke2FsaWFzfV1dYCA6IGBbWyR7ZmlsZU5hbWV9XV1gO1xufVxuXG4vKiogRXNjYXBlIHN0cmluZyBmb3IgdXNlIGluIFJlZ0V4cCAqL1xuZnVuY3Rpb24gZXNjYXBlUmVnRXhwKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9bLiorP14ke30oKXxbXFxdXFxcXF0vZywgJ1xcXFwkJicpO1xufVxuXG5cbi8qKiBcdThCQkVcdTdGNkVcdTk3NjJcdTY3N0YgKi9cbmNsYXNzIFNldHRpbmdzVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG4gIHBsdWdpbjogUXVpY2tMaW5rUGx1Z2luO1xuICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBRdWlja0xpbmtQbHVnaW4pIHtcbiAgICBzdXBlcihhcHAsIHBsdWdpbik7XG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gIH1cblxuICBkaXNwbGF5KCk6IHZvaWQge1xuICAgIGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG4gICAgY29udGFpbmVyRWwuZW1wdHkoKTtcbiAgICBjb250YWluZXJFbC5jcmVhdGVFbCgnaDInLCB7IHRleHQ6ICdRdWljayBGaWxlIExpbmtlciBTZXR0aW5ncyAvIFx1NUZFQlx1OTAxRlx1NjU4N1x1NEVGNlx1OTRGRVx1NjNBNVx1OEJCRVx1N0Y2RScgfSk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKCdFbmFibGUgU3VnZ2VzdGlvbnMgLyBcdTU0MkZcdTc1MjhcdTVFRkFcdThCQUUnKVxuICAgICAgLnNldERlc2MoYFRyaWdnZXIgb24gJyR7dGhpcy5wbHVnaW4uc2V0dGluZ3MuYXV0b2NvbXBsZXRlVHJpZ2dlclBocmFzZX0nIC8gXHU0RjdGXHU3NTI4ICcke3RoaXMucGx1Z2luLnNldHRpbmdzLmF1dG9jb21wbGV0ZVRyaWdnZXJQaHJhc2V9JyBcdTg5RTZcdTUzRDFcdTY1ODdcdTRFRjZcdTVFRkFcdThCQUVgKVxuICAgICAgLmFkZFRvZ2dsZSh0b2dnbGUgPT5cbiAgICAgICAgdG9nZ2xlXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmlzQXV0b3N1Z2dlc3RFbmFibGVkKVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5pc0F1dG9zdWdnZXN0RW5hYmxlZCA9IHZhbHVlO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKCdUcmlnZ2VyIENoYXJhY3RlciAvIFx1ODlFNlx1NTNEMVx1NUI1N1x1N0IyNicpXG4gICAgICAuc2V0RGVzYygnQ2hhcmFjdGVyIHRoYXQgd2lsbCB0cmlnZ2VyIGZpbGUgc3VnZ2VzdGlvbnMgLyBcdTg5RTZcdTUzRDFcdTY1ODdcdTRFRjZcdTVFRkFcdThCQUVcdTc2ODRcdTVCNTdcdTdCMjYnKVxuICAgICAgLmFkZFRleHQodGV4dCA9PlxuICAgICAgICB0ZXh0XG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmF1dG9jb21wbGV0ZVRyaWdnZXJQaHJhc2UpXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jIHZhbHVlID0+IHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmF1dG9jb21wbGV0ZVRyaWdnZXJQaHJhc2UgPSB2YWx1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0TmFtZSgnXHU0RTNCXHU0RjUzXHU2NTg3XHU0RUY2XHU1OTM5IC8gTWFpbiBGb2xkZXJzJylcbiAgICAgIC5zZXREZXNjKFxuICAgICAgICAnXHU4QkJFXHU3RjZFXHU4QkU1XHU2NTg3XHU0RUY2XHU1OTM5XHU3NTI4XHU0RThFXHU4MUVBXHU1MkE4XHU2MjZCXHU2M0NGXHU2NTg3XHU2ODYzXHU4RkRCXHU4ODRDXHU4MUVBXHU1MkE4XHU4RkRFXHU2M0E1XHU1MjFCXHU1RUZBXHUzMDAyXFxuJyArXG4gICAgICAgICdcdTRGN0ZcdTc1MjhcdTUxNjhcdTVDNDBcdTg5RTZcdTUzRDFcdTdCMjZcdTY1RjZcdUZGMENcdTRFQzVcdTU3MjhcdThGRDlcdTRFOUJcdTY1ODdcdTRFRjZcdTU5MzlcdTRFMkRcdTY0MUNcdTdEMjJcdUZGMDhcdTc1NTlcdTdBN0FcdTg4NjhcdTc5M0FcdTUxNjhcdTVDNDBcdUZGMDknXG4gICAgICApXG4gICAgICAuYWRkVGV4dEFyZWEoXG4gICAgICAgIHRleHQgPT4ge1xuICAgICAgICAgIGNvbnN0IGlucHV0ID0gdGV4dC5pbnB1dEVsO1xuICAgICAgICAgIGNvbnN0IHdyYXBwZXIgPSBpbnB1dC5wYXJlbnRFbGVtZW50IGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgIHdyYXBwZXIuYWRkQ2xhc3MoJ3F1aWNrbGluay13cmFwcGVyJyk7XG4gICAgICAgICAgLy8gVXNlIE9ic2lkaWFuIERPTSBoZWxwZXJzIGZvciBzdWdnZXN0aW9uIGNvbnRhaW5lclxuICAgICAgICAgIGNvbnN0IHN1Z2dlc3RFbCA9IHdyYXBwZXIuY3JlYXRlRGl2KCk7XG4gICAgICAgICAgc3VnZ2VzdEVsLmFkZENsYXNzKCdxdWlja2xpbmstaW5saW5lLXN1Z2dlc3Rpb25zJyk7XG4gICAgICAgICAgLy8gaGFuZGxlciB0byB1cGRhdGUgc3VnZ2VzdGlvbnMsIHVzZWQgb24gaW5wdXQgYW5kIGZvY3VzXG4gICAgICAgICAgY29uc3QgdXBkYXRlU3VnZ2VzdGlvbnMgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsaW5lcyA9IGlucHV0LnZhbHVlLnNwbGl0KCdcXG4nKS5tYXAocyA9PiBzLnRyaW0oKSkuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MubWFpblBhdGhzID0gbGluZXM7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnNvclBvcyA9IGlucHV0LnNlbGVjdGlvblN0YXJ0IHx8IDA7XG4gICAgICAgICAgICBjb25zdCBiZWZvcmUgPSBpbnB1dC52YWx1ZS5zdWJzdHJpbmcoMCwgY3Vyc29yUG9zKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gYmVmb3JlLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGxldCBzdWdnZXN0aW9uczogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IGZpbGVzID0gdGhpcy5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xuICAgICAgICAgICAgaWYgKCFjdXJyZW50LmluY2x1ZGVzKCcvJykpIHtcbiAgICAgICAgICAgICAgY29uc3Qgc2V0ID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gICAgICAgICAgICAgIGZpbGVzLmZvckVhY2goZiA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcCA9IGYucGF0aC5zcGxpdCgnLycpWzBdO1xuICAgICAgICAgICAgICAgIGlmIChmLnBhdGguaW5jbHVkZXMoJy8nKSkgc2V0LmFkZChwKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHN1Z2dlc3Rpb25zID0gQXJyYXkuZnJvbShzZXQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc3QgYmFzZSA9IGN1cnJlbnQuZW5kc1dpdGgoJy8nKSA/IGN1cnJlbnQgOiBjdXJyZW50ICsgJy8nO1xuICAgICAgICAgICAgICBjb25zdCBzZXQgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgICAgICAgICAgICAgZmlsZXMuZm9yRWFjaChmID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZi5wYXRoLnN0YXJ0c1dpdGgoYmFzZSkpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbSA9IGYucGF0aC5zdWJzdHJpbmcoYmFzZS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgY29uc3Qgc2xhc2hJbmRleCA9IHJlbS5pbmRleE9mKCcvJyk7XG4gICAgICAgICAgICAgICAgICBpZiAoc2xhc2hJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IHJlbS5zdWJzdHJpbmcoMCwgc2xhc2hJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIHNldC5hZGQoYmFzZSArIG5leHQpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHN1Z2dlc3Rpb25zID0gQXJyYXkuZnJvbShzZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcSA9IGN1cnJlbnQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIHN1Z2dlc3Rpb25zID0gc3VnZ2VzdGlvbnNcbiAgICAgICAgICAgICAgLmZpbHRlcihzID0+IHMudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxKSlcbiAgICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IGEubG9jYWxlQ29tcGFyZShiKSlcbiAgICAgICAgICAgICAgLnNsaWNlKDAsIDUwKTtcbiAgICAgICAgICAgIC8vIENsZWFyIGV4aXN0aW5nIHN1Z2dlc3Rpb25zXG4gICAgICAgICAgICB3aGlsZSAoc3VnZ2VzdEVsLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgc3VnZ2VzdEVsLnJlbW92ZUNoaWxkKHN1Z2dlc3RFbC5maXJzdENoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1Z2dlc3Rpb25zLmZvckVhY2goc3VnID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IHN1Z2dlc3RFbC5jcmVhdGVEaXYoeyBjbHM6ICdxdWlja2xpbmstc3VnZ2VzdGlvbi1pdGVtJywgdGV4dDogc3VnIH0pO1xuICAgICAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGFzeW5jIChlOiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFsbExpbmVzID0gaW5wdXQudmFsdWUuc3BsaXQoJ1xcbicpO1xuICAgICAgICAgICAgICAgIGFsbExpbmVzW3BhcnRzLmxlbmd0aCAtIDFdID0gc3VnO1xuICAgICAgICAgICAgICAgIGlucHV0LnZhbHVlID0gYWxsTGluZXMuam9pbignXFxuJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MubWFpblBhdGhzID0gYWxsTGluZXMuZmlsdGVyKHMgPT4gcy50cmltKCkpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIC8vIENsZWFyIGV4aXN0aW5nIHN1Z2dlc3Rpb25zXG4gICAgICAgICAgICAgICAgd2hpbGUgKHN1Z2dlc3RFbC5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgICBzdWdnZXN0RWwucmVtb3ZlQ2hpbGQoc3VnZ2VzdEVsLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgdXBkYXRlU3VnZ2VzdGlvbnMpO1xuICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdXBkYXRlU3VnZ2VzdGlvbnMpO1xuICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XG4gICAgICAgICAgICAvLyBDbGVhciBleGlzdGluZyBzdWdnZXN0aW9uc1xuICAgICAgICAgICAgd2hpbGUgKHN1Z2dlc3RFbC5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgIHN1Z2dlc3RFbC5yZW1vdmVDaGlsZChzdWdnZXN0RWwuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKCdFeGNsdWRlIEZvbGRlcnMgLyBcdTYzOTJcdTk2NjRcdTY1ODdcdTRFRjZcdTU5MzknKVxuICAgICAgLnNldERlc2MoJ0ZvbGRlcnMgdG8gZXhjbHVkZSBmcm9tIHNlYXJjaCAob25lIHBlciBsaW5lKSAvIFx1NjM5Mlx1OTY2NFx1NjQxQ1x1N0QyMlx1NzY4NFx1NjU4N1x1NEVGNlx1NTkzOVx1RkYwOFx1NkJDRlx1ODg0Q1x1NEUwMFx1NEUyQVx1RkYwOScpXG4gICAgICAuYWRkVGV4dEFyZWEodGV4dCA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gdGV4dC5pbnB1dEVsO1xuICAgICAgICBjb25zdCB3cmFwcGVyID0gaW5wdXQucGFyZW50RWxlbWVudCBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgd3JhcHBlci5hZGRDbGFzcygncXVpY2tsaW5rLXdyYXBwZXInKTtcbiAgICAgICAgY29uc3Qgc3VnZ2VzdEVsID0gd3JhcHBlci5jcmVhdGVEaXYoKTtcbiAgICAgICAgc3VnZ2VzdEVsLmFkZENsYXNzKCdxdWlja2xpbmstaW5saW5lLXN1Z2dlc3Rpb25zJyk7XG4gICAgICAgIGNvbnN0IHVwZGF0ZVN1Z2dlc3Rpb25zID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGxpbmVzID0gaW5wdXQudmFsdWUuc3BsaXQoJ1xcbicpLm1hcChzID0+IHMudHJpbSgpKS5maWx0ZXIoQm9vbGVhbik7XG4gICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZXhjbHVkZUZvbGRlcnMgPSBsaW5lcztcbiAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICBjb25zdCBjdXJzb3JQb3MgPSBpbnB1dC5zZWxlY3Rpb25TdGFydCB8fCAwO1xuICAgICAgICAgIGNvbnN0IGJlZm9yZSA9IGlucHV0LnZhbHVlLnN1YnN0cmluZygwLCBjdXJzb3JQb3MpO1xuICAgICAgICAgIGNvbnN0IHBhcnRzID0gYmVmb3JlLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICBjb25zdCBjdXJyZW50ID0gcGFydHNbcGFydHMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgbGV0IHN1Z2dlc3Rpb25zOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAgIGNvbnN0IGZpbGVzID0gdGhpcy5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xuICAgICAgICAgIGlmICghY3VycmVudC5pbmNsdWRlcygnLycpKSB7XG4gICAgICAgICAgICBjb25zdCBzZXQgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgICAgICAgICAgIGZpbGVzLmZvckVhY2goZiA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHAgPSBmLnBhdGguc3BsaXQoJy8nKVswXTtcbiAgICAgICAgICAgICAgaWYgKGYucGF0aC5pbmNsdWRlcygnLycpKSBzZXQuYWRkKHApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdWdnZXN0aW9ucyA9IEFycmF5LmZyb20oc2V0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgYmFzZSA9IGN1cnJlbnQuZW5kc1dpdGgoJy8nKSA/IGN1cnJlbnQgOiBjdXJyZW50ICsgJy8nO1xuICAgICAgICAgICAgY29uc3Qgc2V0ID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gICAgICAgICAgICBmaWxlcy5mb3JFYWNoKGYgPT4ge1xuICAgICAgICAgICAgICBpZiAoZi5wYXRoLnN0YXJ0c1dpdGgoYmFzZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZW0gPSBmLnBhdGguc3Vic3RyaW5nKGJhc2UubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzbGFzaCA9IHJlbS5pbmRleE9mKCcvJyk7XG4gICAgICAgICAgICAgICAgaWYgKHNsYXNoICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IHJlbS5zdWJzdHJpbmcoMCwgc2xhc2gpO1xuICAgICAgICAgICAgICAgICAgc2V0LmFkZChiYXNlICsgbmV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN1Z2dlc3Rpb25zID0gQXJyYXkuZnJvbShzZXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBxID0gY3VycmVudC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIHN1Z2dlc3Rpb25zID0gc3VnZ2VzdGlvbnNcbiAgICAgICAgICAgIC5maWx0ZXIocyA9PiBzLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocSkpXG4gICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gYS5sb2NhbGVDb21wYXJlKGIpKVxuICAgICAgICAgICAgLnNsaWNlKDAsIDUwKTtcbiAgICAgICAgICAvLyBDbGVhciBleGlzdGluZyBzdWdnZXN0aW9uc1xuICAgICAgICAgIHdoaWxlIChzdWdnZXN0RWwuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgc3VnZ2VzdEVsLnJlbW92ZUNoaWxkKHN1Z2dlc3RFbC5maXJzdENoaWxkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3VnZ2VzdGlvbnMuZm9yRWFjaChzdWcgPT4ge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IHN1Z2dlc3RFbC5jcmVhdGVEaXYoeyBjbHM6ICdxdWlja2xpbmstc3VnZ2VzdGlvbi1pdGVtJywgdGV4dDogc3VnIH0pO1xuICAgICAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBhc3luYyAoZTogTW91c2VFdmVudCkgPT4ge1xuICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgIGNvbnN0IGFsbCA9IGlucHV0LnZhbHVlLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgICAgYWxsW3BhcnRzLmxlbmd0aCAtIDFdID0gc3VnO1xuICAgICAgICAgICAgICBpbnB1dC52YWx1ZSA9IGFsbC5qb2luKCdcXG4nKTtcbiAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZXhjbHVkZUZvbGRlcnMgPSBhbGwuZmlsdGVyKHMgPT4gcy50cmltKCkpO1xuICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgLy8gQ2xlYXIgZXhpc3Rpbmcgc3VnZ2VzdGlvbnNcbiAgICAgICAgICAgICAgd2hpbGUgKHN1Z2dlc3RFbC5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgc3VnZ2VzdEVsLnJlbW92ZUNoaWxkKHN1Z2dlc3RFbC5maXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdWdnZXN0RWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsICgpID0+IHtcbiAgICAgICAgICAgICAgLy8gQ2xlYXIgZXhpc3Rpbmcgc3VnZ2VzdGlvbnNcbiAgICAgICAgICAgICAgd2hpbGUgKHN1Z2dlc3RFbC5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgc3VnZ2VzdEVsLnJlbW92ZUNoaWxkKHN1Z2dlc3RFbC5maXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgdXBkYXRlU3VnZ2VzdGlvbnMpO1xuICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHVwZGF0ZVN1Z2dlc3Rpb25zKTtcbiAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHtcbiAgICAgICAgICAvLyBDbGVhciBleGlzdGluZyBzdWdnZXN0aW9uc1xuICAgICAgICAgIHdoaWxlIChzdWdnZXN0RWwuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgc3VnZ2VzdEVsLnJlbW92ZUNoaWxkKHN1Z2dlc3RFbC5maXJzdENoaWxkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKCdFbmFibGUgQWR2YW5jZWQgVVJJIEludGVncmF0aW9uIC8gXHU1NDJGXHU3NTI4XHU5QUQ4XHU3RUE3IFVSSSBcdTk2QzZcdTYyMTAnKVxuICAgICAgLnNldERlc2MoJ0lmIGluc3RhbGxlZCwgbmV3IGxpbmtzIHdpbGwgdXNlIEFkdmFuY2VkIFVSSSBmb3JtYXQgLyBcdTU5ODJcdTY3OUNcdTVCODlcdTg4QzVcdTRFODZcdTZCNjRcdTYzRDJcdTRFRjZcdUZGMENcdTc1MUZcdTYyMTBcdTlBRDhcdTdFQTcgVVJJIFx1NjgzQ1x1NUYwRlx1NzY4NFx1OTRGRVx1NjNBNScpXG4gICAgICAuYWRkVG9nZ2xlKHRvZ2dsZSA9PlxuICAgICAgICB0b2dnbGVcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZW5hYmxlQWR2YW5jZWRVcmkpXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jIHZhbHVlID0+IHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmVuYWJsZUFkdmFuY2VkVXJpID0gdmFsdWU7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICB9KVxuICAgICAgKTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoJ1VJRCBGaWVsZCBOYW1lIC8gVUlEIFx1NUI1N1x1NkJCNVx1NTQwRCcpXG4gICAgICAuc2V0RGVzYygnRnJvbnRtYXR0ZXIgZmllbGQgbmFtZSBmb3IgVUlEIHVzZWQgaW4gQWR2YW5jZWQgVVJJIC8gXHU3NTI4XHU0RThFIEFkdmFuY2VkIFVSSSBcdTc2ODRcdTUyNERcdTdGNkVcdTVCNTdcdTZCQjVcdTU0MEQnKVxuICAgICAgLmFkZFRleHQodGV4dCA9PlxuICAgICAgICB0ZXh0XG4gICAgICAgICAgLnNldFBsYWNlaG9sZGVyKCd1aWQnKVxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hZHZhbmNlZFVyaUZpZWxkKVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hZHZhbmNlZFVyaUZpZWxkID0gdmFsdWUudHJpbSgpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICBjb250YWluZXJFbC5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdDdXN0b20gUnVsZXMgLyBcdTgxRUFcdTVCOUFcdTRFNDlcdTg5QzRcdTUyMTknIH0pO1xuXG4gICAgLy8gVHJpZ2dlciBGaWx0ZXIgUnVsZXMgXHU1MjE3XHU4ODY4XG4gICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MudHJpZ2dlckZpbHRlclJ1bGVzLmZvckVhY2goKHJ1bGUsIGluZGV4KSA9PiB7XG4gICAgICAvLyBXcmFwIGVhY2ggcnVsZSBpbiBhIGNvbGxhcHNpYmxlIGRldGFpbHMgZWxlbWVudFxuICAgICAgY29uc3QgZGV0YWlscyA9IGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdkZXRhaWxzJyk7XG4gICAgICBkZXRhaWxzLmFkZENsYXNzKCdxdWlja2xpbmstcnVsZS1wYW5lbCcpO1xuICAgICAgLy8gU3VtbWFyeSBsaW5lIHNob3dzIHJ1bGUgbnVtYmVyLCBwcmVmaXggYW5kIG5hbWVcbiAgICAgIGNvbnN0IHN1bW1hcnkgPSBkZXRhaWxzLmNyZWF0ZUVsKCdzdW1tYXJ5Jywge1xuICAgICAgICB0ZXh0OiBgUnVsZSAke2luZGV4ICsgMX06IFske3J1bGUucHJlZml4IHx8ICc8XHU2NzJBXHU4QkJFXHU3RjZFPid9XSAtICR7cnVsZS5uYW1lIHx8ICc8XHU2NzJBXHU1NDdEXHU1NDBEPid9YFxuICAgICAgfSk7XG4gICAgICBzdW1tYXJ5LmFkZENsYXNzKCdxdWlja2xpbmstcnVsZS1zdW1tYXJ5Jyk7XG4gICAgICAvLyBDb250YWluZXIgZm9yIHJ1bGUgc2V0dGluZ3NcbiAgICAgIGNvbnN0IHJ1bGVDb250YWluZXIgPSBkZXRhaWxzLmNyZWF0ZURpdigpO1xuXG4gICAgICAvLyBQcmVmaXggc2V0dGluZyB3aXRoIGRlbGV0ZSBidXR0b25cbiAgICAgIG5ldyBTZXR0aW5nKHJ1bGVDb250YWluZXIpXG4gICAgICAgIC5zZXROYW1lKCdQcmVmaXggLyBcdTUyNERcdTdGMDAnKVxuICAgICAgICAuc2V0RGVzYygnXHU4OUU2XHU1M0QxXHU4OUM0XHU1MjE5XHU1MjREXHU3RjAwXHU1QjU3XHU3QjI2JylcbiAgICAgICAgLmFkZFRleHQodGV4dCA9PlxuICAgICAgICAgIHRleHRcbiAgICAgICAgICAgIC5zZXRWYWx1ZShydWxlLnByZWZpeClcbiAgICAgICAgICAgIC5vbkNoYW5nZSh2YWx1ZSA9PiB7XG4gICAgICAgICAgICAgIHJ1bGUucHJlZml4ID0gdmFsdWU7XG4gICAgICAgICAgICB9KVxuICAgICAgICApXG4gICAgICAgIC5hZGRFeHRyYUJ1dHRvbihidG4gPT5cbiAgICAgICAgICBidG4uc2V0SWNvbigndHJhc2gnKVxuICAgICAgICAgICAgIC5zZXRUb29sdGlwKCdEZWxldGUgLyBcdTUyMjBcdTk2NjQnKVxuICAgICAgICAgICAgIC5vbkNsaWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnRyaWdnZXJGaWx0ZXJSdWxlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcbiAgICAgICAgICAgICB9KVxuICAgICAgICApO1xuXG4gICAgICAvLyBOYW1lIHNldHRpbmdcbiAgICAgIG5ldyBTZXR0aW5nKHJ1bGVDb250YWluZXIpXG4gICAgICAgIC5zZXROYW1lKCdOYW1lIC8gXHU1NDBEXHU3OUYwJylcbiAgICAgICAgLnNldERlc2MoJ1x1ODlDNFx1NTIxOVx1NjYzRVx1NzkzQVx1NTQwRFx1NzlGMCcpXG4gICAgICAgIC5hZGRUZXh0KHRleHQgPT5cbiAgICAgICAgICB0ZXh0XG4gICAgICAgICAgICAuc2V0VmFsdWUocnVsZS5uYW1lKVxuICAgICAgICAgICAgLm9uQ2hhbmdlKHZhbHVlID0+IHtcbiAgICAgICAgICAgICAgcnVsZS5uYW1lID0gdmFsdWU7XG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuXG4gICAgICAvLyBJbmNsdWRlIEZvbGRlcnNcbiAgICAgIG5ldyBTZXR0aW5nKHJ1bGVDb250YWluZXIpXG4gICAgICAgIC5zZXROYW1lKCdJbmNsdWRlIEZvbGRlcnMgLyBcdTUzMDVcdTU0MkJcdTY1ODdcdTRFRjZcdTU5MzknKVxuICAgICAgICAuc2V0RGVzYygnXHU0RUM1XHU1NzI4XHU4RkQ5XHU0RTlCXHU2NTg3XHU0RUY2XHU1OTM5XHU0RTJEXHU2NDFDXHU3RDIyXHVGRjA4XHU2QkNGXHU4ODRDXHU0RTAwXHU0RTJBXHVGRjA5JylcbiAgICAgICAgLmFkZFRleHRBcmVhKHRleHQgPT4ge1xuICAgICAgICAgIGNvbnN0IGlucHV0ID0gdGV4dC5pbnB1dEVsO1xuICAgICAgICAgIGNvbnN0IHdyYXBwZXIgPSBpbnB1dC5wYXJlbnRFbGVtZW50IGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgIHdyYXBwZXIuYWRkQ2xhc3MoJ3F1aWNrbGluay13cmFwcGVyJyk7XG4gICAgICAgICAgY29uc3Qgc3VnZ2VzdEVsID0gd3JhcHBlci5jcmVhdGVEaXYoKTtcbiAgICAgICAgICBzdWdnZXN0RWwuYWRkQ2xhc3MoJ3F1aWNrbGluay1pbmxpbmUtc3VnZ2VzdGlvbnMnKTtcbiAgICAgICAgICBjb25zdCB1cGRhdGVTdWdnZXN0aW9ucyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVzID0gaW5wdXQudmFsdWUuc3BsaXQoJ1xcbicpLm1hcChzID0+IHMudHJpbSgpKS5maWx0ZXIoQm9vbGVhbik7XG4gICAgICAgICAgICBydWxlLmluY2x1ZGVGb2xkZXJzID0gbGluZXM7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnNvclBvcyA9IGlucHV0LnNlbGVjdGlvblN0YXJ0IHx8IDA7XG4gICAgICAgICAgICBjb25zdCBiZWZvcmUgPSBpbnB1dC52YWx1ZS5zdWJzdHJpbmcoMCwgY3Vyc29yUG9zKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcnRzID0gYmVmb3JlLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSBwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGxldCBzdWdnZXN0aW9uczogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IGZpbGVzID0gdGhpcy5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpO1xuICAgICAgICAgICAgaWYgKCFjdXJyZW50LmluY2x1ZGVzKCcvJykpIHtcbiAgICAgICAgICAgICAgY29uc3Qgc2V0ID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gICAgICAgICAgICAgIGZpbGVzLmZvckVhY2goZiA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcCA9IGYucGF0aC5zcGxpdCgnLycpWzBdO1xuICAgICAgICAgICAgICAgIGlmIChmLnBhdGguaW5jbHVkZXMoJy8nKSkgc2V0LmFkZChwKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHN1Z2dlc3Rpb25zID0gQXJyYXkuZnJvbShzZXQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc3QgYmFzZSA9IGN1cnJlbnQuZW5kc1dpdGgoJy8nKSA/IGN1cnJlbnQgOiBjdXJyZW50ICsgJy8nO1xuICAgICAgICAgICAgICBjb25zdCBzZXQgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgICAgICAgICAgICAgZmlsZXMuZm9yRWFjaChmID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZi5wYXRoLnN0YXJ0c1dpdGgoYmFzZSkpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbSA9IGYucGF0aC5zdWJzdHJpbmcoYmFzZS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgY29uc3Qgc2xhc2ggPSByZW0uaW5kZXhPZignLycpO1xuICAgICAgICAgICAgICAgICAgaWYgKHNsYXNoICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gcmVtLnN1YnN0cmluZygwLCBzbGFzaCk7XG4gICAgICAgICAgICAgICAgICAgIHNldC5hZGQoYmFzZSArIG5leHQpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHN1Z2dlc3Rpb25zID0gQXJyYXkuZnJvbShzZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcSA9IGN1cnJlbnQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIHN1Z2dlc3Rpb25zID0gc3VnZ2VzdGlvbnNcbiAgICAgICAgICAgICAgLmZpbHRlcihzID0+IHMudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxKSlcbiAgICAgICAgICAgICAgLnNvcnQoKGEsIGIpID0+IGEubG9jYWxlQ29tcGFyZShiKSlcbiAgICAgICAgICAgICAgLnNsaWNlKDAsIDUwKTtcbiAgICAgICAgICAgIC8vIENsZWFyIGV4aXN0aW5nIHN1Z2dlc3Rpb25zXG4gICAgICAgICAgICB3aGlsZSAoc3VnZ2VzdEVsLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgc3VnZ2VzdEVsLnJlbW92ZUNoaWxkKHN1Z2dlc3RFbC5maXJzdENoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1Z2dlc3Rpb25zLmZvckVhY2goc3VnID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IHN1Z2dlc3RFbC5jcmVhdGVEaXYoeyBjbHM6ICdxdWlja2xpbmstc3VnZ2VzdGlvbi1pdGVtJywgdGV4dDogc3VnIH0pO1xuICAgICAgICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGFzeW5jIChlOiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFsbCA9IGlucHV0LnZhbHVlLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgICAgICBhbGxbcGFydHMubGVuZ3RoIC0gMV0gPSBzdWc7XG4gICAgICAgICAgICAgICAgaW5wdXQudmFsdWUgPSBhbGwuam9pbignXFxuJyk7XG4gICAgICAgICAgICAgICAgcnVsZS5pbmNsdWRlRm9sZGVycyA9IGFsbC5maWx0ZXIocyA9PiBzLnRyaW0oKSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgLy8gQ2xlYXIgZXhpc3Rpbmcgc3VnZ2VzdGlvbnNcbiAgICAgICAgICAgICAgICB3aGlsZSAoc3VnZ2VzdEVsLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgIHN1Z2dlc3RFbC5yZW1vdmVDaGlsZChzdWdnZXN0RWwuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgc3VnZ2VzdEVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gQ2xlYXIgZXhpc3Rpbmcgc3VnZ2VzdGlvbnNcbiAgICAgICAgICAgICAgICB3aGlsZSAoc3VnZ2VzdEVsLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgIHN1Z2dlc3RFbC5yZW1vdmVDaGlsZChzdWdnZXN0RWwuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB1cGRhdGVTdWdnZXN0aW9ucyk7XG4gICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB1cGRhdGVTdWdnZXN0aW9ucyk7XG4gICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHtcbiAgICAgICAgICAgIC8vIENsZWFyIGV4aXN0aW5nIHN1Z2dlc3Rpb25zXG4gICAgICAgICAgICB3aGlsZSAoc3VnZ2VzdEVsLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgc3VnZ2VzdEVsLnJlbW92ZUNoaWxkKHN1Z2dlc3RFbC5maXJzdENoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgIC8vIE5hbWUgRmlsdGVyIFJlZ2V4XG4gICAgICBuZXcgU2V0dGluZyhydWxlQ29udGFpbmVyKVxuICAgICAgICAuc2V0TmFtZSgnTmFtZSBGaWx0ZXIgUmVnZXggLyBcdTY1ODdcdTRFRjZcdTU0MERcdTZCNjNcdTUyMTknKVxuICAgICAgICAuc2V0RGVzYygnXHU0RUM1XHU1MzM5XHU5MTREXHU3QjI2XHU1NDA4XHU2QjY0XHU2QjYzXHU1MjE5XHU3Njg0XHU2NTg3XHU0RUY2XHU1NDBEJylcbiAgICAgICAgLmFkZFRleHQodGV4dCA9PlxuICAgICAgICAgIHRleHRcbiAgICAgICAgICAgIC5zZXRWYWx1ZShydWxlLm5hbWVGaWx0ZXJSZWdleClcbiAgICAgICAgICAgIC5vbkNoYW5nZSh2YWx1ZSA9PiB7XG4gICAgICAgICAgICAgIHJ1bGUubmFtZUZpbHRlclJlZ2V4ID0gdmFsdWU7XG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuXG4gICAgICAvLyBJbmNsdWRlIFRhZ3NcbiAgICAgIG5ldyBTZXR0aW5nKHJ1bGVDb250YWluZXIpXG4gICAgICAgIC5zZXROYW1lKCdJbmNsdWRlIFRhZ3MgLyBcdTUzMDVcdTU0MkJcdTY4MDdcdTdCN0UnKVxuICAgICAgICAuc2V0RGVzYygnXHU0RUM1XHU1NzI4XHU1MzA1XHU1NDJCXHU4RkQ5XHU0RTlCXHU2ODA3XHU3QjdFXHU3Njg0XHU2NTg3XHU0RUY2XHU0RTJEXHU2NDFDXHU3RDIyXHVGRjA4XHU2QkNGXHU4ODRDXHU0RTAwXHU0RTJBXHVGRjA5JylcbiAgICAgICAgLmFkZFRleHRBcmVhKHRleHQgPT4ge1xuICAgICAgICAgIGNvbnN0IGlucHV0ID0gdGV4dC5pbnB1dEVsO1xuICAgICAgICAgIGNvbnN0IHdyYXBwZXIgPSBpbnB1dC5wYXJlbnRFbGVtZW50IGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgIHdyYXBwZXIuYWRkQ2xhc3MoJ3F1aWNrbGluay13cmFwcGVyJyk7XG4gICAgICAgICAgY29uc3Qgc3VnZ2VzdEVsID0gd3JhcHBlci5jcmVhdGVEaXYoKTtcbiAgICAgICAgICBzdWdnZXN0RWwuYWRkQ2xhc3MoJ3F1aWNrbGluay1pbmxpbmUtc3VnZ2VzdGlvbnMnKTtcbiAgICAgICAgICAvLyBHYXRoZXIgYWxsIHVuaXF1ZSB0YWdzIGluIHRoZSB2YXVsdFxuICAgICAgICAgIGNvbnN0IGFsbFRhZ3MgPSBBcnJheS5mcm9tKFxuICAgICAgICAgICAgbmV3IFNldChcbiAgICAgICAgICAgICAgdGhpcy5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpLmZsYXRNYXAoZiA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZShmKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGU/LnRhZ3M/Lm1hcCh0ID0+IHQudGFnLnN0YXJ0c1dpdGgoJyMnKSA/IHQudGFnLnN1YnN0cmluZygxKSA6IHQudGFnKSB8fCBbXTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IHVwZGF0ZVN1Z2dlc3Rpb25zID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgLy8gU2F2ZSBjdXJyZW50IGxpbmVzIGFzIGluY2x1ZGVUYWdzXG4gICAgICAgICAgICBjb25zdCBsaW5lcyA9IGlucHV0LnZhbHVlLnNwbGl0KCdcXG4nKS5tYXAocyA9PiBzLnRyaW0oKSkuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICAgICAgcnVsZS5pbmNsdWRlVGFncyA9IGxpbmVzO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICBjb25zdCBjdXJzb3JQb3MgPSBpbnB1dC5zZWxlY3Rpb25TdGFydCB8fCAwO1xuICAgICAgICAgICAgY29uc3QgYmVmb3JlID0gaW5wdXQudmFsdWUuc3Vic3RyaW5nKDAsIGN1cnNvclBvcyk7XG4gICAgICAgICAgICBjb25zdCBwYXJ0cyA9IGJlZm9yZS5zcGxpdCgnXFxuJyk7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gcGFydHNbcGFydHMubGVuZ3RoIC0gMV0udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIC8vIEZpbHRlciBhbmQgc29ydCB0YWdzXG4gICAgICAgICAgICBjb25zdCBzdWdnZXN0aW9ucyA9IGFsbFRhZ3NcbiAgICAgICAgICAgICAgLmZpbHRlcih0YWcgPT4gdGFnLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoY3VycmVudCkpXG4gICAgICAgICAgICAgIC5zb3J0KChhLCBiKSA9PiBhLmxvY2FsZUNvbXBhcmUoYikpXG4gICAgICAgICAgICAgIC5zbGljZSgwLCA1MCk7XG4gICAgICAgICAgICAvLyBDbGVhciBleGlzdGluZyBzdWdnZXN0aW9uc1xuICAgICAgICAgICAgd2hpbGUgKHN1Z2dlc3RFbC5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgIHN1Z2dlc3RFbC5yZW1vdmVDaGlsZChzdWdnZXN0RWwuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdWdnZXN0aW9ucy5mb3JFYWNoKHRhZyA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBzdWdnZXN0RWwuY3JlYXRlRGl2KHsgY2xzOiAncXVpY2tsaW5rLXN1Z2dlc3Rpb24taXRlbScsIHRleHQ6IHRhZyB9KTtcbiAgICAgICAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBhc3luYyAoZTogTW91c2VFdmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAvLyBSZXBsYWNlIGN1cnJlbnQgbGluZSB3aXRoIHNlbGVjdGVkIHRhZ1xuICAgICAgICAgICAgICAgIGNvbnN0IGFsbExpbmVzID0gaW5wdXQudmFsdWUuc3BsaXQoJ1xcbicpO1xuICAgICAgICAgICAgICAgIGFsbExpbmVzW3BhcnRzLmxlbmd0aCAtIDFdID0gdGFnO1xuICAgICAgICAgICAgICAgIGlucHV0LnZhbHVlID0gYWxsTGluZXMuam9pbignXFxuJyk7XG4gICAgICAgICAgICAgICAgcnVsZS5pbmNsdWRlVGFncyA9IGFsbExpbmVzLmZpbHRlcihzID0+IHMudHJpbSgpKTtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAvLyBDbGVhciBleGlzdGluZyBzdWdnZXN0aW9uc1xuICAgICAgICAgICAgICAgIHdoaWxlIChzdWdnZXN0RWwuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgICAgc3VnZ2VzdEVsLnJlbW92ZUNoaWxkKHN1Z2dlc3RFbC5maXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHVwZGF0ZVN1Z2dlc3Rpb25zKTtcbiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHVwZGF0ZVN1Z2dlc3Rpb25zKTtcbiAgICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4ge1xuICAgICAgICAgICAgLy8gQ2xlYXIgZXhpc3Rpbmcgc3VnZ2VzdGlvbnNcbiAgICAgICAgICAgIHdoaWxlIChzdWdnZXN0RWwuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgICBzdWdnZXN0RWwucmVtb3ZlQ2hpbGQoc3VnZ2VzdEVsLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgLy8gU2F2ZSBSdWxlIGJ1dHRvblxuICAgICAgbmV3IFNldHRpbmcocnVsZUNvbnRhaW5lcilcbiAgICAgICAgLmFkZEJ1dHRvbihidG4gPT5cbiAgICAgICAgICBidG5cbiAgICAgICAgICAgIC5zZXRCdXR0b25UZXh0KCdTYXZlIFJ1bGUgLyBcdTRGRERcdTVCNThcdTg5QzRcdTUyMTknKVxuICAgICAgICAgICAgLnNldEN0YSgpXG4gICAgICAgICAgICAub25DbGljayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICBuZXcgTm90aWNlKGBTYXZlZCBydWxlICR7cnVsZS5wcmVmaXggfHwgJyhubyBwcmVmaXgpJ31gKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgfSk7XG4gICAgLy8gXHU2REZCXHU1MkEwXHU2NUIwXHU4OUM0XHU1MjE5XHU2MzA5XHU5NEFFXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuYWRkQnV0dG9uKGJ1dHRvbiA9PlxuICAgICAgICBidXR0b24uc2V0QnV0dG9uVGV4dCgnQWRkIFJ1bGUgLyBcdTZERkJcdTUyQTBcdTg5QzRcdTUyMTknKVxuICAgICAgICAgICAgICAub25DbGljayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MudHJpZ2dlckZpbHRlclJ1bGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgcHJlZml4OiAnJyxcbiAgICAgICAgICAgICAgICAgIG5hbWU6ICcnLFxuICAgICAgICAgICAgICAgICAgaW5jbHVkZUZvbGRlcnM6IFtdLFxuICAgICAgICAgICAgICAgICAgbmFtZUZpbHRlclJlZ2V4OiAnJyxcbiAgICAgICAgICAgICAgICAgIGluY2x1ZGVUYWdzOiBbXVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xuICAgICAgICAgICAgICB9KVxuICAgICAgKTtcbiAgICAvLyBVSUQgTWFuYWdlbWVudCBzZWN0aW9uIHJlbW92ZWRcbiAgfVxufVxuXG4vKiogXHU4MUVBXHU1MkE4XHU1RUZBXHU4QkFFXHU3QzdCICovXG5jbGFzcyBGaWxlU3VnZ2VzdCBleHRlbmRzIEVkaXRvclN1Z2dlc3Q8eyBsYWJlbDogc3RyaW5nOyBmaWxlOiBURmlsZTsgcGF0aDogc3RyaW5nIH0+IHtcbiAgcGx1Z2luOiBRdWlja0xpbmtQbHVnaW47XG5cbiAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogUXVpY2tMaW5rUGx1Z2luKSB7XG4gICAgc3VwZXIoYXBwKTtcbiAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICBjb25zb2xlLmxvZygnUXVpY2tMaW5rOiBGaWxlU3VnZ2VzdCBpbml0aWFsaXplZCcpO1xuICB9XG5cbiAgZ2V0U3VnZ2VzdGlvbnMoY29udGV4dDogRWRpdG9yU3VnZ2VzdENvbnRleHQpOiB7IGxhYmVsOiBzdHJpbmc7IGZpbGU6IFRGaWxlOyBwYXRoOiBzdHJpbmcgfVtdIHtcbiAgICAvLyBcdTUzRDZcdTUxRkFcdThGOTNcdTUxNjVcdTUxODVcdTVCQjlcdTVFNzZcdTUzQkJcdTYzODlcdTUyNERcdTVCRkNcdTdBN0FcdTc2N0RcdTVCNTdcdTdCMjZcbiAgICBjb25zdCByYXdRdWVyeSA9IGNvbnRleHQucXVlcnk7XG4gICAgY29uc3QgZnVsbFF1ZXJ5ID0gcmF3UXVlcnkudHJpbVN0YXJ0KCk7XG4gICAgY29uc3QgZ2xvYmFsVHJpZ2dlciA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmF1dG9jb21wbGV0ZVRyaWdnZXJQaHJhc2U7XG4gICAgY29uc29sZS5sb2coYFF1aWNrTGluayBnZXRTdWdnZXN0aW9uczogZnVsbFF1ZXJ5PScke2Z1bGxRdWVyeX0nLCBydWxlcz0ke0pTT04uc3RyaW5naWZ5KHRoaXMucGx1Z2luLnNldHRpbmdzLnRyaWdnZXJGaWx0ZXJSdWxlcyl9YCk7XG4gICAgLy8gXHU1MTY4XHU1QzQwXHU2MzkyXHU5NjY0XHU2NTg3XHU0RUY2XHU1OTM5XG4gICAgbGV0IGZpbGVzID0gdGhpcy5hcHAudmF1bHQuZ2V0TWFya2Rvd25GaWxlcygpXG4gICAgICAuZmlsdGVyKGYgPT4gIXRoaXMucGx1Z2luLnNldHRpbmdzLmV4Y2x1ZGVGb2xkZXJzLnNvbWUoZm9sZGVyID0+IGYucGF0aC5zdGFydHNXaXRoKGZvbGRlciArICcvJykpKTtcblxuICAgIC8vIFx1ODlFM1x1Njc5MFx1ODlFNlx1NTNEMVx1ODlDNFx1NTIxOVxuICAgIGNvbnN0IHJ1bGUgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy50cmlnZ2VyRmlsdGVyUnVsZXMuZmluZChyID0+IHIucHJlZml4Lmxlbmd0aCA+IDAgJiYgZnVsbFF1ZXJ5LnN0YXJ0c1dpdGgoci5wcmVmaXgpKTtcbiAgICBjb25zb2xlLmxvZyhgUXVpY2tMaW5rIG1hdGNoZWQgcnVsZTogJHtydWxlID8gcnVsZS5wcmVmaXggOiAnbm9uZSd9YCk7XG4gICAgLy8gXHU1M0JCXHU2Mzg5XHU1MjREXHU3RjAwXHU1NDBFXHU3Njg0XHU1QjlFXHU5NjQ1XHU2N0U1XHU4QkUyXHVGRjBDXHU1RTc2XHU1M0JCXHU5NjY0XHU0RTI0XHU0RkE3XHU3QTdBXHU3NjdEXG4gICAgY29uc3QgYWN0dWFsUXVlcnkgPSBydWxlXG4gICAgICA/IGZ1bGxRdWVyeS5zbGljZShydWxlLnByZWZpeC5sZW5ndGgpLnRyaW0oKVxuICAgICAgOiBmdWxsUXVlcnkuc2xpY2UoZ2xvYmFsVHJpZ2dlci5sZW5ndGgpLnRyaW0oKTtcblxuICAgIC8vIFx1NUU5NFx1NzUyOFx1ODlDNFx1NTIxOVx1OEZDN1x1NkVFNFxuICAgIGlmIChydWxlKSB7XG4gICAgICBpZiAocnVsZS5pbmNsdWRlRm9sZGVycy5sZW5ndGgpIHtcbiAgICAgICAgZmlsZXMgPSBmaWxlcy5maWx0ZXIoZiA9PiBydWxlLmluY2x1ZGVGb2xkZXJzLnNvbWUoZm9sZGVyID0+IGYucGF0aC5zdGFydHNXaXRoKGZvbGRlciArICcvJykpKTtcbiAgICAgIH1cbiAgICAgIGlmIChydWxlLm5hbWVGaWx0ZXJSZWdleCkge1xuICAgICAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAocnVsZS5uYW1lRmlsdGVyUmVnZXgpO1xuICAgICAgICBmaWxlcyA9IGZpbGVzLmZpbHRlcihmID0+IHJlZ2V4LnRlc3QoZi5iYXNlbmFtZSkpO1xuICAgICAgfVxuICAgICAgLy8gdGFnIFx1OEZDN1x1NkVFNFx1RkYwOFx1NUZGRFx1NzU2NSAnIycsIFx1NTMzOVx1OTE0RFx1NzUyOFx1NjIzN1x1OEY5M1x1NTE2NVx1NzY4NFx1NjgwN1x1N0I3RVx1RkYwOVxuICAgICAgaWYgKHJ1bGUuaW5jbHVkZVRhZ3MgJiYgcnVsZS5pbmNsdWRlVGFncy5sZW5ndGgpIHtcbiAgICAgICAgZmlsZXMgPSBmaWxlcy5maWx0ZXIoZiA9PiB7XG4gICAgICAgICAgY29uc3QgY2FjaGUgPSB0aGlzLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZShmKTtcbiAgICAgICAgICBpZiAoIWNhY2hlPy50YWdzKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIGNhY2hlLnRhZ3MhLnNvbWUodCA9PiB7XG4gICAgICAgICAgICAvLyBzdHJpcCBsZWFkaW5nICcjJyBpZiBwcmVzZW50XG4gICAgICAgICAgICBjb25zdCB0YWdOYW1lID0gdC50YWcuc3RhcnRzV2l0aCgnIycpID8gdC50YWcuc3Vic3RyaW5nKDEpIDogdC50YWc7XG4gICAgICAgICAgICByZXR1cm4gcnVsZS5pbmNsdWRlVGFncy5pbmNsdWRlcyh0YWdOYW1lKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghcnVsZSAmJiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5tYWluUGF0aHM/Lmxlbmd0aCkge1xuICAgICAgZmlsZXMgPSBmaWxlcy5maWx0ZXIoZiA9PlxuICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5tYWluUGF0aHMuc29tZShwID0+IGYucGF0aC5zdGFydHNXaXRoKHAgKyAnLycpKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBcdTVFOTRcdTc1MjhcdTY3RTVcdThCRTJcdThGQzdcdTZFRTRcbiAgICBpZiAoYWN0dWFsUXVlcnkpIHtcbiAgICAgIGNvbnN0IHEgPSBhY3R1YWxRdWVyeS50b0xvd2VyQ2FzZSgpO1xuICAgICAgZmlsZXMgPSBmaWxlcy5maWx0ZXIoZiA9PiBmLmJhc2VuYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocSkgfHwgZi5wYXRoLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocSkpO1xuICAgIH1cblxuICAgIC8vIFx1OTY1MFx1NTIzNlx1OEZENFx1NTZERVx1NjU3MFx1OTFDRlxuICAgIHJldHVybiBmaWxlcy5zbGljZSgwLCA1MCkubWFwKGYgPT4gKHsgbGFiZWw6IGYuYmFzZW5hbWUsIGZpbGU6IGYsIHBhdGg6IGYucGF0aCB9KSk7XG4gIH1cblxuICByZW5kZXJTdWdnZXN0aW9uKHN1ZzogeyBsYWJlbDogc3RyaW5nOyBmaWxlOiBURmlsZTsgcGF0aDogc3RyaW5nIH0sIGVsOiBIVE1MRWxlbWVudCk6IHZvaWQge1xuICAgIGVsLnNldFRleHQoc3VnLmxhYmVsKTtcbiAgICBjb25zdCBwYXJ0cyA9IHN1Zy5wYXRoLnNwbGl0KCcvJyk7XG4gICAgcGFydHMucG9wKCk7XG4gICAgZWwuY3JlYXRlU3Bhbih7IGNsczogJ3N1Z2dlc3Rpb24tbm90ZScsIHRleHQ6IGAgKCR7cGFydHMuam9pbignLycpfSlgIH0pO1xuICB9XG5cbiAgYXN5bmMgc2VsZWN0U3VnZ2VzdGlvbihcbiAgICBzdWc6IHsgbGFiZWw6IHN0cmluZzsgZmlsZTogVEZpbGU7IHBhdGg6IHN0cmluZyB9LFxuICAgIGV2dDogTW91c2VFdmVudFxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXRoaXMuY29udGV4dCkgcmV0dXJuO1xuICAgIGNvbnN0IHsgZWRpdG9yLCBzdGFydCwgZW5kIH0gPSB0aGlzLmNvbnRleHQgYXMgRWRpdG9yU3VnZ2VzdENvbnRleHQ7XG4gICAgY29uc3QgYWxpYXMgPSBldnQuc2hpZnRLZXkgPyB0aGlzLmNvbnRleHQucXVlcnkgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgbGluayA9IGF3YWl0IGdlbmVyYXRlTWFya2Rvd25MaW5rKHRoaXMuYXBwLCBzdWcuZmlsZSwgYWxpYXMsIHRoaXMucGx1Z2luKTtcbiAgICBlZGl0b3IucmVwbGFjZVJhbmdlKGxpbmssIHN0YXJ0LCBlbmQpO1xuICB9XG5cbiAgb25UcmlnZ2VyKGN1cnNvcjogRWRpdG9yUG9zaXRpb24sIGVkaXRvcjogRWRpdG9yLCBmaWxlOiBURmlsZSk6IEVkaXRvclN1Z2dlc3RDb250ZXh0IHwgbnVsbCB7XG4gICAgaWYgKCF0aGlzLnBsdWdpbi5zZXR0aW5ncy5pc0F1dG9zdWdnZXN0RW5hYmxlZCkgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgcG9zaXRpb24gPSBlZGl0b3IuZ2V0Q3Vyc29yKCk7XG4gICAgY29uc3QgbGluZSA9IGVkaXRvci5nZXRMaW5lKHBvc2l0aW9uLmxpbmUpO1xuICAgIGxldCBpZHggPSAtMTtcbiAgICAvLyBcdTUxNDhcdTY4QzBcdTZENEJcdTgxRUFcdTVCOUFcdTRFNDlcdTUyNERcdTdGMDBcdUZGMDhcdTc2RjRcdTYzQTVcdTUzMzlcdTkxNERcdTg5QzRcdTUyMTlcdUZGMDlcbiAgICBsZXQgdXNlZFRyaWdnZXIgPSAnJztcbiAgICBmb3IgKGNvbnN0IHJ1bGUgb2YgdGhpcy5wbHVnaW4uc2V0dGluZ3MudHJpZ2dlckZpbHRlclJ1bGVzKSB7XG4gICAgICBpZiAocnVsZS5wcmVmaXgubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBpID0gbGluZS5sYXN0SW5kZXhPZihydWxlLnByZWZpeCwgcG9zaXRpb24uY2ggLSBydWxlLnByZWZpeC5sZW5ndGgpO1xuICAgICAgICBpZiAoaSAhPT0gLTEpIHtcbiAgICAgICAgICBpZHggPSBpO1xuICAgICAgICAgIHVzZWRUcmlnZ2VyID0gcnVsZS5wcmVmaXg7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8gXHU1OTgyXHU2NzlDXHU0RTBEXHU1QjU4XHU1NzI4XHU4MUVBXHU1QjlBXHU0RTQ5XHU1MjREXHU3RjAwXHVGRjBDXHU1MThEXHU2OEMwXHU2RDRCXHU1MTY4XHU1QzQwXHU4OUU2XHU1M0QxXHU3QjI2XG4gICAgaWYgKGlkeCA9PT0gLTEpIHtcbiAgICAgIGNvbnN0IHRyaWdnZXIgPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdXRvY29tcGxldGVUcmlnZ2VyUGhyYXNlO1xuICAgICAgY29uc3QgaSA9IGxpbmUubGFzdEluZGV4T2YodHJpZ2dlciwgcG9zaXRpb24uY2ggLSB0cmlnZ2VyLmxlbmd0aCk7XG4gICAgICBpZiAoaSAhPT0gLTEpIHtcbiAgICAgICAgaWR4ID0gaTtcbiAgICAgICAgdXNlZFRyaWdnZXIgPSB0cmlnZ2VyO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaWR4ID09PSAtMSkgcmV0dXJuIG51bGw7XG4gICAgY29uc3Qgc3RhcnQgPSB7IGxpbmU6IHBvc2l0aW9uLmxpbmUsIGNoOiBpZHggfTtcbiAgICBjb25zdCBlbmQgPSBwb3NpdGlvbjtcbiAgICAvLyBcdThGRDRcdTU2REVcdTUzMDVcdTU0MkJcdTUyNERcdTdGMDBcdTYyMTZcdTUxNjhcdTVDNDBcdTg5RTZcdTUzRDFcdTdCMjZcdTU3MjhcdTUxODVcdTc2ODQgcXVlcnlcbiAgICBjb25zdCBxdWVyeSA9IGxpbmUuc3Vic3RyaW5nKGlkeCwgcG9zaXRpb24uY2gpO1xuICAgIGNvbnNvbGUubG9nKGBRdWlja0xpbmsgb25UcmlnZ2VyOiBkZXRlY3RlZCBxdWVyeT0nJHtxdWVyeX0nLCB1c2VkVHJpZ2dlcj0nJHt1c2VkVHJpZ2dlcn0nYCk7XG4gICAgcmV0dXJuIHsgZWRpdG9yLCBmaWxlLCBzdGFydCwgZW5kLCBxdWVyeSB9O1xuICB9XG59XG5cbi8qKiBcdTRFM0JcdTYzRDJcdTRFRjZcdTdDN0IgKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFF1aWNrTGlua1BsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG4gIHNldHRpbmdzOiBRdWlja0xpbmtTZXR0aW5ncztcbiAgc3VnZ2VzdDogRmlsZVN1Z2dlc3Q7XG5cbiAgYXN5bmMgb25sb2FkKCkge1xuICAgIGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG4gICAgdGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBTZXR0aW5nc1RhYih0aGlzLmFwcCwgdGhpcykpO1xuICAgIHRoaXMuc3VnZ2VzdCA9IG5ldyBGaWxlU3VnZ2VzdCh0aGlzLmFwcCwgdGhpcyk7XG4gICAgdGhpcy5yZWdpc3RlckVkaXRvclN1Z2dlc3QodGhpcy5zdWdnZXN0KTtcbiAgICB0aGlzLmFkZFJpYmJvbkljb24oJ2xpbmstMicsICdBdXRvIExpbmsgU2NhbiAvIFx1ODFFQVx1NTJBOFx1NjI2Qlx1NjNDRicsICgpID0+IHtcbiAgICAgIHRoaXMucnVuQXV0b1NjYW4oKTtcbiAgICB9KTtcbiAgfVxuXG4gIG9udW5sb2FkKCkge31cblxuICAvKiogXHU4MUVBXHU1MkE4XHU2MjZCXHU2M0NGXHU1RjUzXHU1MjREXHU2NTg3XHU2ODYzXHVGRjBDXHU5NEZFXHU2M0E1XHU0RTNCXHU0RjUzXHU2NTg3XHU0RUY2XHU1OTM5XHU0RTBCXHU1MzM5XHU5MTREXHU3Njg0XHU2NTg3XHU0RUY2XHU1NDBEICovXG4gIGFzeW5jIHJ1bkF1dG9TY2FuKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpO1xuICAgIGlmICghdmlldyB8fCAhdmlldy5maWxlKSB7XG4gICAgICBuZXcgTm90aWNlKCdcdThCRjdcdTU3MjggTWFya2Rvd24gXHU4OUM2XHU1NkZFXHU0RTJEXHU0RjdGXHU3NTI4XHU2QjY0XHU1MjlGXHU4MEZEJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGZpbGUgPSB2aWV3LmZpbGU7XG4gICAgY29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWQoZmlsZSk7XG4gICAgbGV0IHRhcmdldHMgPSB0aGlzLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XG4gICAgaWYgKHRoaXMuc2V0dGluZ3MubWFpblBhdGhzPy5sZW5ndGgpIHtcbiAgICAgIHRhcmdldHMgPSB0YXJnZXRzLmZpbHRlcihmID0+XG4gICAgICAgIHRoaXMuc2V0dGluZ3MubWFpblBhdGhzLnNvbWUocCA9PiBmLnBhdGguc3RhcnRzV2l0aChwICsgJy8nKSlcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKCdRdWlja0xpbmsgcnVuQXV0b1NjYW46IHRhcmdldCBmaWxlczonLCB0YXJnZXRzLm1hcChmID0+IGYucGF0aCkpO1xuICAgIGxldCBuZXdDb250ZW50ID0gY29udGVudDtcbiAgICBsZXQgdG90YWxDb3VudCA9IDA7XG4gICAgZm9yIChjb25zdCB0ZiBvZiB0YXJnZXRzKSB7XG4gICAgICBjb25zb2xlLmxvZyhgUXVpY2tMaW5rIHJ1bkF1dG9TY2FuOiBzY2FubmluZyBmaWxlIGJhc2VuYW1lPScke3RmLmJhc2VuYW1lfScgcGF0aD0nJHt0Zi5wYXRofSdgKTtcbiAgICAgIGNvbnN0IG5hbWUgPSB0Zi5iYXNlbmFtZTtcbiAgICAgIC8vIE1hdGNoIHdob2xlIG5hbWUgd2l0aCBub24td29yZCBib3VuZGFyeSwgc3VwcG9ydGluZyBDaGluZXNlXG4gICAgICBjb25zdCBwYXR0ZXJuID0gYChefFxcXFxXKSR7ZXNjYXBlUmVnRXhwKG5hbWUpfSg/PVxcXFxXfCQpYDtcbiAgICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChwYXR0ZXJuLCAnZycpO1xuICAgICAgLy8gRmluZCBtYXRjaGVzIG9uIHRoZSBjdXJyZW50IG5ld0NvbnRlbnRcbiAgICAgIGNvbnN0IG1hdGNoZXMgPSBuZXdDb250ZW50Lm1hdGNoKHJlZ2V4KTtcbiAgICAgIGlmIChtYXRjaGVzICYmIG1hdGNoZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zb2xlLmxvZyhgUXVpY2tMaW5rIHJ1bkF1dG9TY2FuOiBmb3VuZCAke21hdGNoZXMubGVuZ3RofSBtYXRjaGVzIGZvciAnJHtuYW1lfSdgKTtcbiAgICAgICAgdG90YWxDb3VudCArPSBtYXRjaGVzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgbGlua1RleHQgPSBhd2FpdCBnZW5lcmF0ZU1hcmtkb3duTGluayh0aGlzLmFwcCwgdGYsIHVuZGVmaW5lZCwgdGhpcyk7XG4gICAgICAgIGNvbnNvbGUubG9nKGBRdWlja0xpbmsgcnVuQXV0b1NjYW46IGxpbmtUZXh0PScke2xpbmtUZXh0fSdgKTtcbiAgICAgICAgLy8gUmVwbGFjZSBvY2N1cnJlbmNlcywgcHJlc2VydmluZyBwcmVjZWRpbmcgY2hhcmFjdGVyXG4gICAgICAgIG5ld0NvbnRlbnQgPSBuZXdDb250ZW50LnJlcGxhY2UocmVnZXgsIChfbWF0Y2gsIHAxKSA9PiBgJHtwMX0ke2xpbmtUZXh0fWApO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zb2xlLmxvZyhgUXVpY2tMaW5rIHJ1bkF1dG9TY2FuOiB0b3RhbCByZXBsYWNlbWVudHMgdG8gYXBwbHk6ICR7dG90YWxDb3VudH1gKTtcbiAgICBhd2FpdCB0aGlzLmFwcC52YXVsdC5tb2RpZnkoZmlsZSwgbmV3Q29udGVudCk7XG4gICAgbmV3IE5vdGljZShgXHU4MUVBXHU1MkE4XHU2MjZCXHU2M0NGXHU1QjhDXHU2MjEwXHVGRjBDXHU1REYyXHU5NEZFXHU2M0E1ICR7dG90YWxDb3VudH0gXHU1OTA0YCk7XG4gIH1cblxuICBhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG4gICAgdGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XG4gIH1cblxuICBhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG4gICAgYXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcbiAgfVxuXG59Il0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLHNCQUFrTDtBQXVCbEwsSUFBTSxtQkFBc0M7QUFBQSxFQUMxQywyQkFBMkI7QUFBQSxFQUMzQixzQkFBc0I7QUFBQSxFQUN0QixnQkFBZ0IsQ0FBQztBQUFBLEVBQ2pCLG1CQUFtQjtBQUFBLEVBQ25CLG9CQUFvQixDQUFDO0FBQUEsRUFDckIsV0FBVyxDQUFDO0FBQUEsRUFDWixrQkFBa0I7QUFDcEI7QUE2QkEsZUFBZSxxQkFDYixLQUNBLE1BQ0EsT0FDQSxRQUNpQjtBQUVqQixNQUFJLFdBQVcsS0FBSyxLQUFLLFFBQVEsU0FBUyxFQUFFO0FBQzVDLFFBQU0sV0FBVyxLQUFLO0FBR3RCLE1BQUksT0FBTyxTQUFTLHFCQUFzQixJQUFZLFFBQVEsUUFBUSx1QkFBdUIsR0FBRztBQUM5RixVQUFNLFlBQVksSUFBSSxNQUFNLFFBQVE7QUFDcEMsVUFBTSxZQUFZLE9BQU8sU0FBUztBQUNsQyxRQUFJLE1BQXFCO0FBQ3pCLFFBQUk7QUFDRixZQUFNLFVBQVUsTUFBTSxJQUFJLE1BQU0sS0FBSyxJQUFJO0FBQ3pDLFlBQU0sVUFBVSxRQUFRLE1BQU0sdUJBQXVCO0FBQ3JELFVBQUksU0FBUztBQUNY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
