大家好，今天我们进入时间序列的分析和预测，整体上来看呢，这张还是比较容易。同一种现象的不同时间上的相继观察值排列而成的序列，我们称为。时间序列，比如右边表格中展示的2000年到二零一七年的人均的GDP数据。那对于截面数据来说呢呃，比如我们收集的呃，学生的身高数据，居民的收入收入数据。呃，在这个时候啊，张三啊，李四谁在前面谁在后面是无所谓的，
但是对于时间序列，我们都是要按时间排列的。那我们一般用t来表示所观察的时间，这个时间可以是年可以是季度。也可以是月是周是日是小时分秒都可以啊，那y呢表示？观察值加上下标I表示，第I7的数据。di 7的数据，比如说这里我们如果要用y去表示的话，那么这个就是y1呃，它表示第一期的人均GDP。等于。七四七九四二那么y2就是第二期的人均GDP的数据是八七一七。那下面呢？
我们来看这个时间序列的分类，可以分为平稳序列和非平稳序列。平稳序列并不意味着观察值是固定不变的，而是说观察值它不存在趋势。呃，在某个固定的水平上波动，有的时候波动大，比如这里有的时候波动小，比如这里。但是这种波动是没有规律的，这种波动呢，可以看成是随机波动，那这种序列呢，我们称为。平稳序列而非平稳序列呢，
是指包含有趋势，季节性或者周期性的序列。在这三种成分当中，非平稳序列可能只有其中一种，比如说只有趋势。只有季节性，或者只有周期性，也可能会包含这三种当中的多种成分。比如有的这个序列，它又有趋势，又有具节性等等，那我们依次来看一下这三种成分。首先来看趋势。趋势呢，是指持续向上。
或持续下降的状态或者规律。这个趋势又分为线性趋势和非线性趋势，那么如果序列围绕着一条非水平的直线上下波动。啊，这就是线性趋势，那如果序列围绕着一条上升或者下降的曲线波动，这就是非线性趋势。那这个很简单，我们就不多说了，第二个呢，叫做季节性。季节性呢，是在一年内。呃，一年内重复出现的周期性波动，
比如说这个气温呃，河流的水位，一些农产品的产量。呃，居民的用电量，一些行业的呃，淡旺季等等，这都是季节性，一年之内会有一个周期。但是我们这里说的这个季节性，它其实是一个广义的季节性。呃，有的序列呢？它会在一周内一个月内呃完成一次循环，然后下一周下一个月又开始新的循环。
这也是季节性的体现，那么第一张图呢？它是只有季节性的。序列那好像也是围绕着一个固定的值波动，但是这个波动，它是有规律的。啊，如果没有规律的的一个固定值波动，那就成平稳序列的第二张图，它不但有季节性，也有趋势。第三种成分呢，叫做周期性。是围绕长期趋势的一种波浪形。或者震荡式的变动。
那么，周期性它跟趋势是不一样的趋势呢？它会朝着单一的方向。运动啊，持续上升或者持续下降，而周期性呢，它是涨落相间的交替波动。但是季节性，它也是涨落相间的交替波动啊。那不过季节性，它的规律是明确的变动周期呢，在一年之内。而周期性的波动规律是不明确的，而且这个周期大于一年，而且长短不一。
比如我们经常说的这个经济周期在一个周期内呢，会有这个繁荣的阶段。呃，会有。这个呃衰退的阶段会有萧条的阶段，也会有复苏的阶段。但是呃，这这个周期到底有多长是不确定的，那我们现在处在这个周期的。哪个阶段什么时候进入下一个阶段，整个周期什么时候结束，什么时候开始下一个新的周期？这都是不确定的啊，所以周期性和季节性是不一样的。那最后呢，
是除去趋势，季节和周期性之后的偶然波动称为。随机性。那比如这个我们啊，这个非线性的趋势。呃，序列它不会恰好落在一条明确的确定的曲线上，而是围绕着这个曲线呢。做随机的波动，如果我们把这个线性的趋势给它去除掉，还会还是会剩下类似图中的这样一种不规则的波动。这是时间序列及其分解的内容，下面我们看增长率的分析。那关于增长率呢？我们在讲几何平均数的时候，
其实讲过一部分。呃，比如现在我想计算一下呃，二零零一年的人均GDP。呃，相对于2000年的人均GDP的增长率，那计算方法就是。八七一七减七九四二，再比上七九。四二或者呢，它等于八七一七比上七九四二，然后再减去一。那这个就是2000年的人均GDP，相对于呃2001年的人均GDP，相对于2000年的。
呃，增长率那这个时候。2001年就是报告期，2000年就是基期，我们关注哪一年的增长，哪一年就是报告期。而计算增长率需要一个比较的对象，我们与哪一期做比较，哪一期就是基期。那如果我们计算增长率的时候，基期是报告期的前一期，那么这个增长率叫做环比增长率。这个是报告期，这个是基期。报告期是I基期是i- 1是报告期的前一期，
那么这样计算的增长率呢？我们叫做。环比增长率环环相扣，一环扣一环。比如，现在我们想计算2003年的人均GDP的环比增长率。2003年的环比，那么就是说与它对比的实际上。是前一期的GDP。那就是一零六六六比上九五零六减掉一，这个就是。二零零三年，人均GDP的环比增长率，那如果我想算二零零四年人均GDP的环比增长率呢？那二零零四年的二零零四年是报告期，
对应的y是一二四八七。环比增长率基期是它的前一期，那么二零零三是基期比上一零六六。六然后再减掉一，这就是2004年的人均GDP的环比增长率。那如果我们计算增长率的时候与报告期做比较的那一期是固定的一期，也就是说基期是固定的。不会随着报告期的变化而变化，那这种增长率。就是定期增长率，这是报告期啊，它是可以变的，那么这个呢？是基期的。机器呢，
是这个人为规定的一个对比的时间啊，比如说我们现在规定。鸡西是2000年。那现在我们规定基期是2000年，那么。对照的啊，都是这个七九四二是不会变的，那我们计算后面的定期增长率。比方说，二零零一年。它的定期增长率是八七一七比七九四二减一。那么，二零零二年的定期增长率呢？九五零六比七九四二减一，也就说这个机器我们一旦确定了。
分母上都是这个基期的值。而分子上呢，就看我们关注的是哪一期的增长。而一般来说呢，这个定期增长率的这个基期，它都是有点特殊性的啊，比如我们最近两三年的这个经济增长情况。呃，除了计算环比以外，还经常会与这个二零一九年的情况做比较，计算这个定期的增长。因为二零一九年呢，几乎它是没有受到疫情的影响的，与二零一九年这个固定的基期做比较。呃，
可以判断这个经济的恢复发展的情况。那这个是环比增长率和定期增长率的情况，下面我们来看平均增长率。那这个公式呢？我们在讲几何平均数的时候呢？讲过这个公式的来历，大家可以回去复习一下。那需要注意的第一点是，当序列中的观察值出现零或者负数的时候，这个观察值指的就是yi。这个时候是不宜计算增长率的。比如说呃，基期是零。那基期是零基期，要在分母上啊，
零是不能做分母的，零如果做分母呢，就不符合数学公理。那比如说机器是负三。报告期。是二那它其实实现了扭亏为盈，它是一个正的增长，但是呢，计算结果会是负数。那这就无法解释实际意义了，因为计算的时候。是二比。负三，然后再减掉一那这是个小于零的数字，但是它是正增长，
这个没有办法解释实际意义。啊，这是第一个注意的地方，那么呃，最后要注意的就是增长率，它是个相对水平啊，我们不能只关注相对水平。要注意增长率与绝对水平的。结合分析。呃，比如说有两家企业，甲企业的增长率是20%，乙企业的增长率呢是40%。如果只看增长率，乙企业更高发展的更好，
但是甲企业本身基数就更大。规模去更大，如果看绝绝对的增长，那可能假企业更增长的更可观啊，也可能更加的难得。所以我们引入一个概念，叫做增长1%的绝对值，那就是前期的水平啊。比上100就是增长1%的绝对值，那经过我们计算。前期水平甲企业是500啊，除以100是五万元，乙企业前期是60比上100是零点儿六万元。那我们这样一看的话，虽然甲企业的增长率小，
但是它增长的绝对值。比乙企业要大很多啊，那这样我们综合评价一下，还是甲企业啊，发展的更好。当然了，除此之外啊，因为我们现在做的其实是一种这个静态的分析啊，就是比较某一年的。增长率和增长的1%的绝对值啊，那除此之外呢？呃，其实还应该关心一下这个趋势啊，如果乙企业能够连续多年保持高增长。啊，
就是增长率很高的话，那也是很恐怖的事情。下面我们就进入时间序列的预测，那所谓的时间序列的预测呢，就是用已有的。已有的数据去预测未来。用已有的数据以及变动规律去预测未来的数据，那数据我们知道它包含的成分可能有趋势。有季节性，有周期性，还有不规则波动。那一般来说呢，时间序列都是存在不规则波动的，也就是说这个不规则波动，它是一定会有。
而我们呢，是不考虑周期性的。周期性就不考虑了，就当成它都没有哦，那么要讨论的就只剩下趋势。和季节性。那我们就要根据啊，这个序列当中是否存在趋势和是否存在季节性。来选择预测的方法，那我们主要学习的呃，其实就是没有趋势，也没有季节性。或者有趋势，但是没有季节性。以及啊，
对复合型序列的分解。嗯，就是说这个部分这个部分以及复合时间序列的分解。啊，主要这是我们主要学习的内容，那我们那我们当对同一个序列啊，有不同的预测方法的时候。或者同样一种方法，我们可以选择不同参数的时候，就会涉及到。呃，方法之间，参数之间的比较和选择。那这个时候我们就需要一个比较选择的标准，需要对预测方法的一个评估标准啊，
我们先来看。预测方法的。评估啊，在这里呢，我们要注意一点，就是我们不是用对未来的预测的准确性来评估。那因为我们预测的时候，未来还没有来，我们并不知道哪个方法对未来的预测值更加准确。所以我们只能把这种方法运用到已知的数据上来，评价方法的。这个表现，从而做出选择。那比如我们有n期的数据，一二一直到n期的数据，
那么y1代表第一期的。实际值f1代表第一期的预测值，那我们一直可以有到yn到。FM，但是啊，我们实际想预测的其实是dn加一起。啊，因为我们这个已经掌握了n7的数据了，那我们感兴趣的就是下一期，但是呢，我们又不知道这个下一期的值。嗯，虽然我们可以给出一个预测值，但是我们不知道这个预测值跟实际值相差多大。啊，
所以呢，我们只能把这个预测方法呢，运用到已知已知的已经存在的前n期上啊f1到fn。我们对第一期一直到第n期都做一个预测。然后呢？来评价嗯，我们的这个预测效果嗯。下面呢，我们介绍几种指标呃，它们的值越小呢，代表预测效果。呃与好第一个指标呢是平均误差。呃，di 7的误差就是di 7的实际值yi减掉di 7的预测值。fi啊，
这个是第I期的误差，那么平均的误差就是将每一期的误差都相加再除以n。那误差这个东西本来就是有正有负，加总起来肯定会正负抵消掉一部分。那么有可能啊，低估的特别多，高估的也特别多，但是一加种反而显得误差特别小。那所以这个平均误差呢，我们一般是不怎么使用的呃，第二种呢是平均绝对误差。它这个分子上呢，就是每一个误差都加绝对值，再去求和。那么这样呢，
就避免了正负抵消第三种呢，是均方误差均方误差呢，它的分子上是每一个误差都先平方再求和。呃，也避免啊，政府的抵消那么前三种指标，其实呢，它都是带着单位的。而且呢，这几种几指标，这个最后结果的大小也会受到本身的这个水平的影响。那比如呃，现在我对一家小企业，它的营收做预测，你对一家大企业的营收做预测。
那我的这个预测结果呃，如果用。这几个指标来评价可能会偏小，但是这种偏小可能就是因为小企业它的规模本来就小。营收本来就没多少啊，所以预测的这个误差呢，可能就偏小。而你预测的大企业营收规模本来就大很多，那一个小波动可能这几个指标的值就都上去了，变大了。那如果。这样的话呢，这样比较的话呢，就很不公平啊，我的值偏小，
也不意味着我的方法就更好。呃，你的值偏大呢？也并不意味着你这个预测效果就一定差啊，所以如果我们本来掌握的序列的水平不一样。或者单位不一样，量纲不一样啊，是不好直接用这几个结果来评价。这个预测效果如何啊？或者方法如何的？所以我们就设计了这两个指标。叫做平均百分比误差和平均绝对百分比误差。那大家可以发现上面这个呃，它实际上变成了一个。这个比值啊。
叉先减掉一个。形成一个误差，然后再求误差。占实际值的比例，然后乘上一个100。形成了一个百分数，所以这两个结果啊，如果你算出来是十它的意思，其实是10%。那这个是呃预测方法的评估，其中这个均方误差m se呃是我们最常用的。下面呢，我们就来看具体的预测方法呃，首先是针对平稳序列的预测呃，平稳序列呢，
按照我们刚才的那个分类啊，是既没有季节性，也没有趋势。只有随机成分，只有不规则成分的序列，那么我们选择的方法呢？是平滑预测法。具体呢，包括以下三种，那么既然平稳血液呢，它只有随机成分，那么我们的方法针对的就是随机成分。平滑预测的这几种方法都可以对随机成分造成的起起伏伏进行一个平滑。或者叫修云啊，就像这个熨衣服一样，
把这个衣服上的褶子都给熨平，那它起到的作用呢？一个是对平稳序列做短期的预测。另外一个呢是描述这个序列的趋势，那我们这里呢，主要学习它对平稳序列的短期预测。而对于这个趋势的描述呢，针对的是含有趋势成分的序列而言的，我们看第一种方法。简单平均法。那假设现在我们已经掌握的这个观察值呢？是y1到yt就是说我们有t期的。观察值现在我们想预测下一期，也就是说我们想得到加一该怎么办？那么简单，
平均法的含义就是说我用这已经掌握的前t期的观察值的均值。来作为。下一期t+1期的预测值嗯，这就是这个式子表达的含义。前t期之和，除以t啊，就是前t期的均值作为t+1期的一个预测值。那如果第t+1期到来了，或者结束了，我们就可以得到第t+1期的实际值。咱们用实际值减去预测值，就可以得到dt加一七的一个预测误差。那么，当我们有了dt+1期的数据以后，我们如果想预测dt+2期的数据。
那我们就把前加一期的观察值求一个平均数。作为第对t站二期的一个预测，那这就是简单平均法。它的含义那比如说现在我们有这个六期，也就是2000年到2005年的一个。CPI的数据现在如果我们要用简单平均法去预测，第七期也就是2006年的。CPI我们怎么办呢？就是已经掌握的前六期的均值。一百零一点二作为第七期，也就是二零零六年的CPI的预测值。那一旦二零零六年结束了，我们得到了它的实际值是一零一点五，那么我们不但可以计算一个误差就是一零一点五减去。一零一点二与此同时，
我们还可以用前七期的CPI的。均值作为第八期啊。均值是它啊，作为第八期的一个预测值。也就二零零七年的一个预测值。那如果说二零零七年又结束了，我们就可以得到二零零七年的一个实际值，并且计算一个误差。啊，计算一个误差，那与此同时呢，我们还可以用。这前八期的均值。作为第九期，也就是二零零八年的一个预测值，
它们的均值放在这儿啊。作为第九期的预测值，那这个是简单平均法啊，它就确实很简单。呃，而且它这个特点呢？也很鲜明，第一个呢是适合对较为平稳的序列进行预测。第二个就是预测结果不准，那这个预测结果不准呢？一个是因为本身它这个方法就是所有的数据，它认为是同等重要的啊，如果我有20年的数据。那我想预测第21年，那我就对已经掌握的这20年的数据做一个算术平均那，
但是在这个时间跨度之内。呃，从预测的角度讲，应该是这个近期的数据更重要，远期的数据呢，就是很久之前的数据就没有那么重要了。呃，这个是它方法上存在的问题，那么预测不准的另外一个原因呢？是基于这个呃序列的类型，如果序列有趋势或季节变动的时候呢？这个方法的预测是不够准确的呃，而这个方法本身也不适合非平稳序列的预测。下面一种方法呢，叫做移动平均啊，
它对简单平均做了一个改进，它不再关注远期的数据，而是只用最近k期的数据。用最近k7的数据的均值作为下一期的预测，那么k的取值范围呢？如果我们有t7的。数据一共有t7的数据，那么这个k理论上来说。它位于一到t之间啊。那如果说现在我们想预测第t+1期的数据，我们就从。t开始数数k个出来。然后计算一个均值，作为对t+1期的一个移动平均的。预测值那比如现在。
我们有这个六年的数据。t=6，那么按照简单平均呢？就是这六年算一个平均数出来，作为对下一期的一个预测。但是，移动平均法呢？我们要取一个k，我们只关心最近k期，比如说我们现在k=3，那么也就是说我们想预测第七期的时候，我们就从前一期开始数。啊数三个出来，它们对应的观察值的均值作为第七期的一个预测值。那如果二零零六年结束了，
我们得到了这个CPI的值，比如说它是102的话，那我们要预测。下面一期，第八期也就是二零零七年的CPI，我们怎么办呢？k=3，那就是。从第七期开始，往前数数三个。出来计算均值啊，放到这里作为第八期的一个预测，那如果k=4呢？若k=4，我们有六年的数据，
我想预测第七期，那么怎么办？往前数四期。算一个均值。放到这里。作为第七期的一个预测，那如果我们知道了二零零六年结束了，我们知道了它的实际值。在预测第八期的时候怎么办？那就从第七期开始，数数四个出来计算它们的均值，放到这里作为第八期的一个预测。但是这个k。它是人为确定的呃。它呃人为规定人为确定那么使用不同的k呢预测结果就是不一样啊，
那我们就面临一个问题，这个k呢到底是？如何选出来的？那么这个答案呢？就是通过检验比较出来的那么试验。啊，就是选择不同的k啊，去做移动平均比较呢，就是呃，比较一下啊，哪个k的效果更好？效果的好坏呢，我们用这个军方误差来评价呃，比如现在我们有20年的数据。是2000年到两千一九年的CPI的数据。
现在我们的目标是要预测二零二零年的数据。f.这个是。20年的数据，那这是f21第21期我们要得到这个值，如果我们用移动平均选择k=3。那么，我们就用二零一七二零一八二零一九年的的均值。作为对二零二零年的一个预测，那如果现在我们可以选择五呢？那就是。二零一五年到二零一九年，这个最近五年的数据的均值。计算得到它作为对二零二零二零年CPI的一个预测。那么但但是呢，
这个虽然说我们得到了二零二零年的两个预测值，但是我们现在是。呃，在二零一九年，对二零二零年做预测，二零二零年还没有发生啊，所以这两个预测值哪个更好？我们是没有办法得知的。那怎么办呢？那我们就只能用过往的已有的数据来评估预测的效果，具体的做法。呃，就是说当k=3或者当k=5的时候呢？我们呃分别对呃已有的数据做移动平均呃，看看误差如何？
比如康当等于三，那我们就用前三年的均值作为对第四年的一个预测。然后呢？呃，往下移动一个格子用二三四年的数据作为对第五年的一个预测。用三四五的一个均值。作为对第六年的一个预测，那么逐年预测下去一直预测到二零一九年，那我们就。有了二零零三年到二零一九年的实际值以及预测值，我们能够观察到误差以及误差的平方。那么，当k=5的时候呢？也是一样的。我们就用前五年的数据作为对第六年的一个预测，
那么。第再用第二个五年，也就是二三四五六作为第七年的一个预测，那么逐年预测下去也是预测到。二零一九年，那么我们就能得到二零零五年到二零一九年的实际值和。预测值我们得到预测误差和预测误差的这个平方。然后我们分别对k=3的时候，求均方误差。k=5的时候也求一个均方误差，那我们比较均差比均方误差的大小。那么，当k=5的时候，均方误差是三点六一，是小于k=3的时候的均方误差的。
所以我们从军方误差的角度来评价等于五的时候呢，效果是更好，所以我们就选择。一零，二点零零作为对二零二零年CPI的一个预测值。那下面这张图呢？呃，分别表现了实际值啊k=3 k=5时五的时候的预测值。呃，我们可以看出，移动平均对于原始数据的这种平滑作用，那么经过平滑之后呢，这个波动性它变小了。下面我们看这个指数平滑法，我们要学习的呢，
是一次指数平滑。那我们看这个式子。对d期t+1期的预测啊，它等于阿尔法贝的第t期的实际值。然后再加上一个一减阿尔法b的第七第七期的预测值，那也就是说。前一期的实际值。实际值和预测值的加权平均作为对下一期的一个。预测这其中，阿尔法是平滑系数取值呢？是零到一。那么问题是这个ft是怎么来的呢？我们按照这个逻辑就是它前一期的那t往前一期就是t- 1期的实际值。和预测值的一个加权平均。那么ft- 1又是怎么来的呢？
那就是dt- 2期的实际值和预测值的一个。加权平均。那你可以想象一下，不管这个t有多大，总会一直往下迭代，一直到第二期的预测。那它就是第一期的实际和第一期的预测的加权平均。那那么第一期的预测是是怎么来的呢？因为第一期再往前，它没有了。那这个时候我们一般就把第一期的实际值。作为第一期的预测值来使用。那既然这个f 1=y一，那么这里我们就可以直接换成y1。啊，
那么y1这也是y1这也是y1这俩阿尔法加一减阿尔法正好是一所以f2呢？它其实等于外衣啊，当然了，前提就是我们把第一期的实际值作为预测，第一期的预测值来使用。就比如我们右边这个例子，我们有前三期的数据，现在我们想用指数平方法，阿尔法等于取值零点三。来预测第四期也就是二零零三年的数据，那我们从第一期开始，第一期的实际值和预测值是一样的，它俩的加权平均。呃，还是等于一零四点四作为对第二期的一个预测。
那么，我们用第二期的实际和第二期的预测的加权，也就是呃零点三×100点七。再加上零点七×100点四作为。得得到这个值，作为第三期的一个预测。然后第三期的实际和第三期的预测的价钱平均作为第四期的。预测值。那它是一个这样的呃，计算的规律。那根据我们刚才的计算啊，我们可以发现我们得到了第四期的这个预测值，实际上呢，用到了。前三期的观测值，
也就是说我们有t期的数据啊，前t期的数据想预测t+1期，下一期的数据的时候。实际上，前t期的数据都被用到了，但是呢，它没有把这个呃每一期的数据都。同等的处理啊，它没有堪称同等的重要，而是。越近期的数据权重越大，越远期的数据权重越小。啊，比如我们来看一下这个，它的这个公式，
当我们预测这个dt+1系的时候。它是dt 7的实际值和预测值的加权平均，那么d7t7它的权重是多大呢？是阿尔法。那么，再往前一期就是t- 1期。t- 1期的权重是多大呢？t- 1期呢？是它在预测ft的时候。就被乘了一个阿尔法那么ft，在这里又被乘了一个一减阿尔法，所以我们只看这个。dt减一七的实际值，实际上它的权重是阿尔法乘上一减阿尔法。那么yt- 2呢？
它首先要乘以一个阿尔法，然后再往前迭代一次，乘以一减阿尔法，再往前迭代一次才会导致。到这个式子当中，也就是说它还要再乘上一个一减阿尔法这个地方，就变成了一减阿尔法的平方。那么，如果再往前走。t- 3的全称就是阿尔法乘上一减阿尔法的三次方。啊，那么这个权重从yt开始往前走，它的权重其实是越来越小的嗯，而且呢，是呈现一个。
指数的下降。那这也是指数平滑名称的由来。那与这个移动平均要确定k一样。那么，这个指数平滑呢？我们也要确定这个平滑系数。阿尔法那么确定的逻辑呢？还是试验哦，试验对阿尔法取不同的值呢？去做试验，然后呢？进行比较。评估的时候用的还是已有的数据的预测结果啊，因为我们。这个值呃和这个值。
嗯，虽然我们想预测的就是二零二零年，但是这个值好还是这个值好，我们是不知道的，我们只能用已有的数据啊，进行指数平滑。来评估呃，这个效果的好坏，那通过比较阿尔法等于零点三的时候均发误差。是更小的。所以呢，我们呃就使用阿尔法等于零点三的时候的预测值啊，一零二点三一作为对二零二零年CPI数据的一个。预测那么呃，根据这个公式ft+1，
它等于阿尔法倍的。ft呃yt。再加上一减阿尔法倍的ft，我们进行一个拆分。把阿尔法和阿尔法放到一块，就等于ft。再加阿尔法ft呃yt-ft，那也就是说。那么t+1期的预测值呃，等于t期的预测值加一个t期的预测误差再乘上。阿尔法呃，这个是ft加一七的一个变形。那呃，这是对平稳序列的预测，我们这个一共学习了三种方法，
简单平均法呢，是对时间序列的过去的全部数据。呃同等利用移动平均法呢？呃它不考虑远期的数据啊，只考虑最近k7呃，这个是最简单平均的一个。呃，改进而指数平滑呢，它使用了呃全部数据啊，但是呢。呃，它又对这个呃近期的数据和远区的数据赋予不同的权重，那随着这个数据。越来越远赋予的权重呢，就会越来越小，
那这是关于平稳数据的预测，下面呢，我们来看一下。对趋势性数据的。预测首先来看线性趋势，当观测值随着时间的推移呈现出稳定增长或者稳定下降的一个线性变化规律的时候呢。我们就可以使用一元线性回归，那么一元线性回归当中的因变量是？也就是y它是观测值。自变量。x.就是时间t，然后求解这两个参数截距和斜率，然后就可以外推预测下一期的值。不过大家这个注意一点，
这个t啊，不是年份或者月份，它是时间代码。比如在这个例子当中啊，我们有20年的数据，我们发电量。呃，是我们关注的这个观察值，它作为因变量y。而t呢，不是年份，而是时间的代码啊，第一年第二年直到第20年。第20年，这是时间代码，
所以我们。在回归的时候y用的是发电量，这个值啊，也就是因变量自变量呢，是用的时间代码。这个值啊。进行线性回归，我们就可以计算出两个参数啊，这个是我们得到的估计的回归方程。那这个就是b0。那这个数字。这是b1，那我们把时间代码带进去就可以得到各期对应的预测值，比如我们把。t=1代进去，
那就是第一期的预测值，就是二零二零年的预测值啊，就是它。那如果我们把21代进去呢，那就是二零二零年的预测值。结果就是他。那这个是线性趋势的预测，就直接使用一元线性回归。下面我们看这个非线性预测第一种呢，是指数曲线。当时间序列以几何级数递增或者递减的时候，也就是说各期的环比增长率比较稳定的时候呢？来使用指数曲线，那么模型的初始设定呢？是这个样子，
那这个样子可能这个式子不太好理解，实际上我们可以换一种理解方式。它就是yt。呃，等于。y0再乘以一个一加。环比增长率。然后t次方。呃，那么我们对应过来呢？实际上这个b0。对应的就是y0这个b1呢，对应的就是一加环比增长率啊，这样可能。这个好理解一点。
那我们看这个当这个环比增长率g是小于零，那么就意味着b1它是。小于一的那你想如果这个b1也就是一加环比增长率小于一了，那么这个部分随着t的增加一定是减少的。那么，如果环比增长率是大于零的，那就意味着这个b1是大于一的。那b1大于一，那么随着这个t的增加，这一部分肯定是上升的啊。那这个式子呢？这个是我们的一种理解方式，但是这个式子它不可以直接用来做回归，还要进行一个线性化的处理。那具体来说呢，
就是对这个式子两边呢，都取自然对数那左边。左边取自然对数就是logy t，右边取自然对数呢，这个是b0和b1的t次方的乘积。那么，取对数乘积的对数？等于对数的和那就是lo GB 0。再加上。log be.的t次方那么这个t可以提到前面来做系数呃，就是t倍的lo GB 1。呃，那这样我们就完成了一个线性化的处理。那怎么去做回归呢？
处理完以后，它的因变量和自变量分别是谁呢？那这个时候大家要注意一下它的自变量呢，其实还是t啊，就是这个时间代码。它的因变量呢？要对。这个人均GDP取一个对数，也就是说这个时候会产生一个新的。序列是GDP的对数啊，比如这个第一个就是七九四二的对数，第二个就是八七幺七的对数，它会形成一个新的数列。那这个新的数列GDP的对数作为因变量时间代码呢？作为自变量。
那最后我们求解这样一个方程的时候，实际上得到的是谁呢？得到的是lo GB 0。截距和lo GB 1斜率，那我们想要知道b0和b1是多少？那就要通过这样一个计算方式啊，转化一下，分别得到b0和b1。呃，也就是说我们实际上。对这个模型求解参数的时候，得到的是这个数字和这个数字呃，然后分别。这样运算一下就会得到b0和b1了，那么根据我们这个数据呃，
我们最后估计的这个b0是它。b1是它。那既然这样的话呢，我们把时间代码代入进去，那这个t在这里啊，它在指数上。我们把t=1带进去，那就是第一期的预测值，那我们想外推，想预测第21期。这个把t=21带到这个式子当中，就会预测得到二零二零年的预测值。也就是他。那第二种这个非线性趋势的预测方法呢，是使用多阶曲线。
那因为这个呃，如果是非线性趋势，它不一定是朝着一个固定的方向运动，也不一定是一个。呃几何性的增长或者下降，它有可能是有增长有下降，这样起起伏伏的变化。那这个时候呢？我们就可以考虑啊，拟合这个多项式函数。大家注意一下，它这里边提到了一个拐点啊，那这个拐点呢，跟我们高等数学中当中的拐点是不一样的。那我们高等数学当中的拐点呢？
是说呃函数的凹凸性发生变化的地方叫拐点。呃，但是我们。这个教材上提到的这个拐点，它指的是这个呃序列的形态由。增加。到减少呃，这样一个变化的地方叫拐点。那么，我们在确定这个呃曲线的接触的时候呢？有这样一个原则，如果只有一个拐点，我们就拟合一个。二阶的曲线就是就是抛物线，那如果有两个拐点呢，
就拟合一个三阶的曲线。当有k- 1个拐点，就需要你和一个k接的曲线，我们看。右边这张图当中，那么这个地方大概就是一个拐点，它由增加变化到减少。那么这个地方呢？其实也有可能啊，它可能是有减少变化的。增加了，所以我们确定这个阶数的时候啊，可以拟合一个二阶的。也拟合一个三阶的呃，看一下哪一个效果更好，
那所谓的这个阶数呢？实际上就是。时间代码的这个次数啊。比方说我们你和一个二姐的。它就要包括。一个截距一个t的，一次方和t的二次方，那这个是二阶。如果是三阶的呢？那就要包括t的一次方t的二次方，还要加一个。踢的。三次方那也就是说我们在拟合二阶的时候，实际上就把t和t的平方。啊t是时间代码t和t的平方，
作为两个自变量去做回归。那如果我们拟合的是个三阶的呢，那就把TT的平方t的三次方。那么，作为三个自变量去做回归？我们看后面的这个例子。时间是2000年到两千一九年啊，但是呢，我们自变量不用它啊，而是用它的时间代码。t那么这个是t，如果我们拟合的是二阶的曲线，我们还要有一个t的平方。这两个作为两个自变量，而轿车产量作为因变量y去做。
回归那如果我们拟合的是三阶曲线呢，我们还要加一个t的三次方啊，这三个作为三个自变量去做回归。那根据呃，我们的数据得到的结果是这样的啊，这个是二阶曲线的结果，这个是三阶曲线的结果。那么，既然得到了这样一个结果呢？我们把。时间代码代进去就可以得到各期的一个预测值，那如果我们想外推的话呢，就把t=21代进去就会分别得到。二阶曲线的预测值，三阶曲线的预测值啊，
作为二零二零年的一个预测，当然了，我们还要从。从二阶和三阶当中做一个选择啊，那么从图上看这个。呃，蓝色的是实际值，红色的是二阶曲线，绿色的是三阶曲线，那我们可以看到这个绿色的跟蓝色的。呃，它的距离是比较近的。啊，也就是说这个三阶曲线其实是拟合的更好。呃，
这是我们从图上看，那我们也可以通过计算这个se来比较一下，应该也是。三阶拟合的更好，所以我们就选择呃，这个三阶的预测值。八七九点九三作为对第21期，也就是二零二零年。轿车产量的一个预测。那么这个是呃非线性趋势预测的两种方法，指数曲线和多阶曲线，那么最后呢，还有一个复合型序列的分解预测。那么这个知识呢？对于大部分人来说，
其实是不重要的呃，但是我们也会讲，我们会单独补一个小节来讲这个地方。